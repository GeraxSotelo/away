(function(t){function e(e){for(var s,o,l=e[0],n=e[1],c=e[2],p=0,u=[];p<l.length;p++)o=l[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,l=1;l<a.length;l++){var n=a[l];0!==i[n]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=n;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"09ba":function(t,e,a){},"0df1":function(t,e,a){"use strict";var s=a("6bc7"),i=a.n(s);i.a},1:function(t,e){},1248:function(t,e,a){"use strict";var s=a("dc12"),i=a.n(s);i.a},1320:function(t,e,a){},"1bff":function(t,e,a){},"1f38":function(t,e,a){},"2f6d":function(t,e,a){"use strict";var s=a("6571"),i=a.n(s);i.a},"461f":function(t,e,a){},"53ba":function(t,e,a){t.exports=a.p+"img/away-logo-inverted.aa39d44e.png"},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("034f"),a("2877")),l={},n=Object(o["a"])(l,i,r,!1,null,null,null),c=n.exports,d=a("9483");Object(d["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var p=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container-fluid"},[t._m(0),t._m(1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"btn-container"},[t.user._id?a("router-link",{attrs:{to:{name:"dashboard"}}},[a("button",{staticClass:"login-btn mx-auto"},[a("p",{staticClass:"mb-0"},[t._v("LOGIN")])])]):a("router-link",{attrs:{to:{name:"login"}}},[a("button",{staticClass:"login-btn mx-auto"},[a("p",{staticClass:"mb-0"},[t._v("LOGIN")])])])],1)])])])},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 fakenavbar"},[s("img",{staticClass:"away-logo",attrs:{src:a("53ba"),alt:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-12 mt-4"},[a("div",{staticClass:"btn-container"},[a("button",{staticClass:"demo-btn mx-auto text-white"},[a("p",{staticClass:"mb-0"},[t._v("DEMO TRIP")])])])])])}],f={name:"home",computed:{user(){return this.$store.state.user}},components:{}},h=f,v=(a("d9c7"),Object(o["a"])(h,u,m,!1,null,"3298e4c6",null)),g=v.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login container-fluid"},[t._m(0),a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-10 col-md-6 mx-auto login-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 col-md-8 mx-auto text-center pb-4"},[t.loginForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}})]),a("button",[t._v("Login")])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),a("button",[t._v("Register")])])]),a("div",{staticClass:"col-12 text-center hoverhand",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?a("p",[t._v("click here to register")]):a("p",[t._v("click here to login")])])])])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 fakenavbar"},[a("div",{staticClass:"appName"},[t._v("away")])])])}],b={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",hasProfile:!1}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},I=b,y=(a("a921"),Object(o["a"])(I,w,C,!1,null,"3044a91e",null)),_=y.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row justify-content-around"},[t._l(t.trips,(function(e){return a("div",{key:e._id,staticClass:"col-12 col-md-6 col-lg-3"},[a("router-link",{attrs:{to:{name:"trip",params:{tripId:e._id}}}},[a("div",{staticClass:"card-container"},[a("h1",{staticClass:"mb-0"},[t._v(t._s(e.title))])])])],1)})),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"card-container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTrip.title,expression:"newTrip.title"}],staticClass:"form-control mx-auto",attrs:{type:"text",placeholder:"New Trip Name",required:""},domProps:{value:t.newTrip.title},on:{input:function(e){e.target.composing||t.$set(t.newTrip,"title",e.target.value)}}}),t._m(0)])])])],2)])},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"mb-0"},[a("i",{staticClass:"fas fa-plus"})])}],x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark negativeMargin"},[s("router-link",{attrs:{to:{name:"home"}}},[s("a",{staticClass:"navbar-brand"},[s("img",{staticClass:"away-logo",attrs:{src:a("53ba"),alt:""}})])]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav ml-auto"},[s("router-link",{attrs:{to:{name:"dashboard"}}},[s("li",{staticClass:"nav-item",class:{active:"dashboard"==this.$route.name}},[s("a",{staticClass:"nav-link"},[t._v("My Trips")])])]),s("router-link",{attrs:{to:{name:"profile"}}},[s("li",{staticClass:"nav-item",class:{active:"profile"==this.$route.name}},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Profile")])])]),s("router-link",{attrs:{to:{name:"account"}}},[s("li",{staticClass:"nav-item",class:{active:"account"==this.$route.name}},[s("a",{staticClass:"nav-link"},[t._v("Account")])])]),s("li",{staticClass:"nav-item"},[s("button",{staticClass:"btn btn-logout ml-1 p-1",on:{click:t.logout}},[t._v("Log Out")])]),s("br")],1)])],1)},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],T={name:"Navbar",methods:{logout(){this.$store.dispatch("logout")}},computed:{}},D=T,E=(a("6dd9"),Object(o["a"])(D,x,M,!1,null,"b38e01b4",null)),L=E.exports,N=a("3d20"),B=a.n(N);class P{static async inputData(t="Enter Inputs",e){try{const{value:a}=await B.a.fire({title:t,html:'<form class="needs-validation profile-form" novalidate @change="checkStuff()"><label class="mb-0">First Name <span style="color: red">*</span></label>'+`<input id="firstName" class="swal2-input" value="${e.firstName||""}" placeholder="Enter your first name">`+'<label class="mb-0">Last Name <span style="color: red">*</span></label>'+`<input id="lastName" class="swal2-input" value="${e.lastName||""}" placeholder="Enter your last name">`+'<label class="mb-0">Username <span style="color: red">*</span></label>'+`<input id="username" class="swal2-input" value="${e.username||""}" placeholder="Enter a display name">`+'<label class="mb-0">Favorite quote</label>'+`<input id="description" class="swal2-input" value="${e.description||""}" placeholder="Enter favorite quote">`+'<label class="mb-0">Email <span style="color: red">*</span></label>'+`<input id="email" type="email" class="swal2-input" value="${e.email||""}" placeholder="Enter public email address">`+'<label class="mb-0">Image URL</label>'+`<input id="img-url" type="text" class="swal2-input" value="${e.imgURL||""}" placeholder="Enter image URL">`+'<span style="color: red">*</span> indicates required field</form>',focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("firstName").value,e=document.getElementById("lastName").value,a=document.getElementById("username").value,s=document.getElementById("description").value,i=document.getElementById("email"),r=document.getElementById("img-url").value;return t&&e&&a&&i.value||B.a.showValidationMessage("Please fill out required fields"),1==i.validity.typeMismatch&&B.a.showValidationMessage("Invalid Email Address"),[t,e,a,s,i.value,r]}});if(a)return{firstName:a[0],lastName:a[1],username:a[2],description:a[3],email:a[4],imgURL:a[5]}}catch(a){return!1}}static async inputCar(t="Enter Inputs"){try{const{value:e}=await B.a.fire({title:t,html:'<label class="mb-0">Carpool Name<span style="color: red">*</span></label><input id="carpool-name" class="swal2-input"><label class="mb-0">Number of Seats<span style="color: red">*</span></label><input type="number" min="1" id="seat-details" class="swal2-input" placeholder="1">',focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("carpool-name").value,e=document.getElementById("seat-details").value;return t&&e||B.a.showValidationMessage("Please fill out required fields"),[t,e]}});if(e)return{name:e[0],totalSeats:e[1]}}catch(e){return e}}static async inputMeal(t="Enter Inputs",e){try{const{value:a}=await B.a.fire({title:t,html:'<form class="meal-form"><label class="mb-0">Meal Name<span style="color: red">*</span></label>'+`<input id="meal-name" class="swal2-input" value="${e.title||""}" placeholder="e.g., Sunday breakfast">`+'<label class="mb-0">Meal Details</label>'+`<input id="meal-details" class="swal2-input" value="${e.details||""}" placeholder="Details">`+"</form>",focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("meal-name").value,e=document.getElementById("meal-details").value;return t||B.a.showValidationMessage("Please fill out required fields"),[t,e]}});if(a)return{title:a[0],details:a[1]}}catch(a){return a}}static async inputFood(t="Enter Inputs",e){try{const{value:a}=await B.a.fire({title:t,html:'<form class="meal-form""><label class="mb-0">Food Item<span style="color: red">*</span></label>'+`<input id="food-name" class="swal2-input" value="${e.foodItems.foodName||""}" placeholder="Item name">`+'<label class="mb-0">Details</label>'+`<input id="food-details" class="swal2-input" value="${e.foodItems.details||""}" placeholder="Details">`+"</form>",focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("food-name").value,e=document.getElementById("food-details").value;return t||B.a.showValidationMessage("Please fill out required fields"),[t,e]}});if(a)return{foodName:a[0],details:a[1]}}catch(a){return a}}static async inputListItem(t="Enter Inputs",e){try{const{value:a}=await B.a.fire({title:t,html:'<form class="item-form""><label class="mb-0">Item Name<span style="color: red">*</span></label>'+`<input id="item-name" class="swal2-input" value="${e.title||""}" placeholder="Item name">`+"</form>",focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("item-name").value;return t||B.a.showValidationMessage("Please fill out required fields"),[t]}});if(a)return{itemName:a[0]}}catch(a){return a}}static async inputList(t="Enter Inputs"){try{const{value:e}=await B.a.fire({title:t,html:'<input id="swal-input1" class="swal2-input">',focusConfirm:!1,preConfirm:()=>[document.getElementById("swal-input1").value]});if(e)return e[0]}catch(e){return!1}}static async errorMessage(t="Oops"){try{await B.a.fire({icon:"error",text:t})}catch(e){return!1}}}var U={name:"Dashboard",mounted(){this.$store.dispatch("resetActiveTrip"),this.$store.dispatch("getAllTrips"),this.$store.dispatch("getProfileByUserId"),console.log(this.$store.state.user)},data(){return{newTrip:{title:""}}},computed:{trips(){return this.$store.state.trips},user(){return this.$store.state.user}},components:{Navbar:L},methods:{async createTrip(){await this.$store.dispatch("getProfileByUserId"),this.$store.state.profile._id?(this.$store.dispatch("createTrip",this.newTrip),this.newTrip={title:""}):await P.errorMessage("You must create a profile to create a trip")},removeTrip(t){this.$store.dispatch("removeTrip",t)},async errorMessage(){await P.errorMessage("You must create a profile to create a trip")}}},O=U,A=(a("cd96"),Object(o["a"])(O,$,k,!1,null,"088f8294",null)),R=A.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trip container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 mx-auto"}),a("div",{staticClass:"col-12 col-lg-10 mx-auto pt-3"},[t.trip.title?a("h3",{staticClass:"text-white"},[t._v(t._s(t.trip.title))]):a("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])]),t.trip.authorId?a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Destination",{attrs:{tripData:t.trip}})],1):t._e(),t.trip.authorId?a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Members",{attrs:{tripData:t.trip}})],1):t._e(),t.trip.authorId?a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Carpool",{attrs:{tripData:t.trip}})],1):t._e(),t.trip.authorId?a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Meals",{attrs:{tripData:t.trip}})],1):t._e(),t.trip.authorId?a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Lists",{attrs:{tripData:t.trip}})],1):t._e(),t._m(0)])])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-lg-10 mx-auto mb-3"},[a("div",{staticClass:"card-container"},[a("i",{staticClass:"fas fa-plus"})])])}],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container top-card"},[a("div",{staticClass:"w-100",attrs:{id:"title-container"},on:{click:function(e){t.dropdown=!t.dropdown,t.getCoords(t.trip.destinations[0].location)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.trip.destinations&&t.trip.destinations.length?a("h4",{staticClass:"mb-0"},[t._v(t._s(t.trip.destinations[0].location))]):a("h4",{staticClass:"mb-0"},[t._v("Destination")]),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])])])]),a("div",{staticClass:"row w-100"},[a("div",{staticClass:"col-12"},[t.dropdown?a("div",{staticClass:"dropdown"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 mx-auto"},[t.trip.destinations&&t.trip.destinations.length?a("div",[a("button",{staticClass:"mb-3 btn-dark text-light-grey",on:{click:function(e){return t.launchWeather()}}},[t._v("Open weather")]),t.showMap?t._e():a("button",{staticClass:"mb-3 btn-dark text-light-grey",on:{click:function(e){t.showMap=!t.showMap}}},[t._v("Show map")]),t.showMap?a("button",{staticClass:"mb-3 btn-dark text-light-grey",on:{click:function(e){t.showMap=!t.showMap}}},[t._v("Hide map")]):t._e(),t.showMap?a("div",[a("div",{staticClass:"meteor mt-1"},[t._v("Click the pin to open Google Maps!")]),a("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.center,zoom:12}},t._l(t.markers,(function(e,s){return a("gmap-marker",{key:s,attrs:{position:t.center,clickable:!0,draggable:!1},on:{click:function(e){return t.launchURL()}}})})),1)],1):t._e(),a("ul",{staticClass:"list-group list-group-flush mt-4"},t._l(t.tripData.destinations,(function(e,s){return a("li",{key:e._id,staticClass:"list-group-item list-group-item-action"},[t._v(" "+t._s(e.location)+" "),a("i",{staticClass:"far fa-times-circle",attrs:{title:"delete"},on:{click:function(a){return t.deleteDestination(e._id)}}}),0==s?a("i",{staticClass:"fas fa-meteor"}):t._e()])})),0),t._m(0)]):t._e()])]),a("form",{staticClass:"p-3",on:{submit:function(e){return e.preventDefault(),t.addDestination(t.tripData._id)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newDestination.location,expression:"newDestination.location"}],staticClass:"bg-lightest-grey pl-1",attrs:{type:"text",placeholder:"Address or coordinates"},domProps:{value:t.newDestination.location},on:{input:function(e){e.target.composing||t.$set(t.newDestination,"location",e.target.value)}}}),a("button",{staticClass:"btn-dark text-light-grey",attrs:{type:"submit"}},[t._v("Add")])])]):t._e()])])])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"meteor"},[a("i",{staticClass:"fas fa-meteor pr-1 pt-3"}),t._v("indicates final destination ")])}],q={name:"Destination",mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},props:["tripData"],data(){return{newDestination:{location:""},dropdown:!1,center:{lat:45.508,lng:-73.587},markers:[],places:[],currentPlace:null,showMap:!1}},methods:{async addDestination(t){let e={...this.newDestination};await this.$store.dispatch("addDestination",{tripId:t,destination:e}),this.newDestination={location:""},this.getCoords(this.$store.state.activeTrip.destinations[0].location)},async getCoords(t){await this.$store.dispatch("getCoords",t),this.center=this.$store.state.coords,this.markers.push(this.$store.state.coords)},async deleteDestination(t){await this.$store.dispatch("removeDestination",{tripId:this.$route.params.tripId,destinationId:t}),this.getCoords(this.$store.state.activeTrip.destinations[0].location)},launchURL(){window.open(`https://maps.google.com/maps?q=${this.$store.state.coords.lat},${this.$store.state.coords.lng}`,"_blank")},launchWeather(){window.open(`https://weather.com/weather/today/l/${this.$store.state.coords.lat},${this.$store.state.coords.lng}?temp=f`)}},computed:{trip(){return this.$store.state.activeTrip}},components:{}},z=q,V=(a("2f6d"),Object(o["a"])(z,S,Y,!1,null,"d12841c4",null)),G=V.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"w-100 title-container",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("h4",{staticClass:"mb-0"},[t._v("Carpool")]),a("span",{staticClass:"badge badge-primary badge-pill ml-1"},[t._v(t._s(t.carpools.length))])]),a("br"),t.dropdown?a("div",{staticClass:"arrow up-arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow down-arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"dropdown pb-3"},[t._l(t.carpools,(function(e){return a("div",{key:e._id,staticClass:"d-inline-block"},[a("div",{staticClass:"p-3"},[a("h6",{staticClass:"car-name bg-lightest-grey mb-0 pt-2 pl-1 pr-1"},[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"text-right fas fa-times",on:{click:function(a){return t.removeCarpool(e._id)}}})]),a("div",{staticClass:"car d-flex justify-content-center bg-lightest-grey text-light p-1"},[t._l(e.occupants,(function(s){return a("div",{key:s.profileId._id,staticClass:"bg-dark shadow-dark seat m-1 d-flex align-items-center justify-content-center",attrs:{title:"occupant.name"}},[a("i",{staticClass:"fas fa-times",on:{click:function(a){return t.removeOccupant(e._id,s._id,s.profileId._id,e.authors)}}}),t._v(" "+t._s(s.profileId.firstName[0])+t._s(s.profileId.lastName[0])+" ")])})),t._l(e.totalSeats-e.occupants.length,(function(s,i){return a("div",{key:i,staticClass:"bg-light-grey seat m-1 d-flex justify-content-center align-items-center",on:{click:function(a){return t.addOccupant(t.tripData._id,e._id)}}},[a("i",{staticClass:"fas fa-plus color-light-grey"})])}))],2)])])})),a("hr"),a("h5",{staticClass:"pb-2"},[t._v("New carpool")]),a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn-dark mx-auto text-light-grey",on:{click:function(e){return t.createCarpool()}}},[t._v("Add")])])],2):t._e(),t.dropdown?a("div",{staticClass:"w-100 text-right arrow bottom-up-arrow",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("i",{staticClass:"fas fa-angle-double-up mr-3"})]):t._e()])},W=[],J={name:"Carpool",props:["tripData"],mounted(){this.$store.dispatch("getProfileByUserId"),this.$store.dispatch("getCarpoolsByTripId",this.$route.params.tripId)},data(){return{dropdown:!1}},methods:{async createCarpool(){let t=await P.inputCar("Car Details"),e={...t,tripId:this.$route.params.tripId,tripAuthorId:this.tripData.authorId};this.$store.dispatch("addCarpool",{tripId:e.tripId,carpool:e})},addOccupant(t,e){console.log("carpool id from add occupant",e);let a={profileId:this.$store.state.profile._id};this.$store.dispatch("addOccupant",{tripId:t,carpoolId:e,occupant:a})},removeOccupant(t,e,a,s){let i=this.$route.params.tripId;this.$store.state.profile._id==a||s.includes(this.$store.state.user._id)?this.$store.dispatch("removeOccupant",{tripId:i,carpoolId:t,occupantId:e}):P.errorMessage("You can't remove this person from a carpool")},removeCarpool(t){B.a.fire({title:"Are You Sure You Want To Delete This Carpool?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{if(e.value){let e=this.$route.params.tripId;this.$store.dispatch("removeCarpool",{tripId:e,carpoolId:t}),B.a.fire("Deleted!","Your carpool has been deleted.","success")}})}},computed:{carpools(){return this.$store.state.carpools}}},Q=J,K=(a("74da"),Object(o["a"])(Q,H,W,!1,null,"0df0f66f",null)),X=K.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"w-100 pointer",attrs:{id:"title-container"},on:{click:function(e){t.dropdown=!t.dropdown}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("h4",{staticClass:"mb-0 mr-1"},[t._v("Shared Meals")]),a("span",{staticClass:"badge badge-primary badge-pill ml-1"},[t._v(t._s(t.meals.length))])]),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])])])]),t.dropdown?a("div",{staticClass:"dropdown w-100 pb-1"},[a("div",{staticClass:"col-12 col-md-8 mx-auto"},[a("ul",{staticClass:"list-group list-group-flush"},t._l(t.meals,(function(t){return a("MealComponent",{key:t._id,attrs:{mealData:t}})})),1),a("div",{staticClass:"row pt-3 pb-3"},[a("div",{staticClass:"col-12 col-md-8 mx-auto"},[a("button",{staticClass:"btn-dark text-light-grey",on:{click:function(e){return t.addMeal()}}},[t._v("Add Meal")])])])])]):t._e()])},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"list-group-item"},[a("div",{staticClass:"d-flex justify-content-start align-items-center"},[a("div",{staticClass:"btn-group dropright"},[t._m(0),a("div",{staticClass:"dropdown-menu"},[a("button",{staticClass:"dropdown-item",on:{click:function(e){return t.editMeal(t.mealData)}}},[t._v("Edit")]),a("button",{staticClass:"dropdown-item",on:{click:function(e){return t.deleteMeal(t.mealData._id)}}},[t._v("Delete")]),a("button",{staticClass:"dropdown-item",on:{click:function(e){return t.addFoodItem(t.mealData)}}},[t._v("Add Food Item")])])]),a("h5",{staticClass:"mb-0"},[a("strong",[t._v(t._s(t.mealData.title))])])]),a("div",{staticClass:"text-left ml-5"},[t.mealData.details?a("p",{staticClass:"details mb-0"},[t._v("*"+t._s(t.mealData.details)+"*")]):t._e()]),a("ul",{staticClass:"food-item-ul"},t._l(t.mealData.foodItems,(function(e){return a("li",{key:e._id},[a("div",{staticClass:"d-flex justify-content-start align-items-center"},[a("div",{staticClass:"btn-group dropright"},[a("button",{staticClass:"btn btn-sm",attrs:{type:"button",title:"delete"},on:{click:function(a){return t.deleteFoodItem(t.mealData._id,e._id)}}},[a("i",{staticClass:"far fa-times-circle food-item-menu"})])]),a("span",{staticClass:"pr-2"},[t._v(t._s(e.foodName))]),a("p",{staticClass:"food-item-author mb-0 align-self-center"},[t._v("- by: "+t._s(e.profileId.firstName))])]),a("div",{staticClass:"text-left ml-5"},[e.details?a("p",{staticClass:"details mb-0"},[t._v("*"+t._s(e.details)+"*")]):t._e()])])})),0)])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn",attrs:{type:"button","data-toggle":"dropdown"}},[a("i",{staticClass:"fas fa-ellipsis-v"})])}],st={name:"MealComponent",props:["mealData"],data(){return{}},methods:{deleteMeal(t){this.$store.dispatch("removeMeal",{mealId:t,tripId:this.$route.params.tripId})},async editMeal(t){let e=await P.inputMeal("Edit Meal",t),a={...e,tripId:this.$route.params.tripId};this.$store.dispatch("editMeal",{mealId:t._id,update:a})},async addFoodItem(t){let e=await P.inputFood("Add Food Item",t);if(e){e.profileId=this.$store.state.profile._id;let a=this.$route.params.tripId;this.$store.dispatch("addFoodItem",{mealId:t._id,foodItem:e,tripId:a})}},deleteFoodItem(t,e,a,s){this.$store.state.profile._id==a||s.includes(this.$store.state.user._id)?this.$store.dispatch("removeFoodItem",{mealId:t,foodItemId:e,tripId:this.$route.params.tripId}):P.errorMessage("You can't remove this item")}},computed:{profile(){return this.$store.state.profile}}},it=st,rt=(a("5afd"),Object(o["a"])(it,et,at,!1,null,null,null)),ot=rt.exports,lt={name:"Meals",props:["tripData"],mounted(){this.$store.dispatch("getMealsByTripId",this.$route.params.tripId)},data(){return{dropdown:!1}},methods:{async addMeal(){let t=await P.inputMeal("Enter New Meal",{});if(t){let e={...t,foodItems:[],tripId:this.$route.params.tripId,tripAuthorId:this.tripData.authorId};this.$store.dispatch("addMeal",e)}}},computed:{meals(){return this.$store.state.meals},profile(){return this.$store.state.profile}},components:{MealComponent:ot}},nt=lt,ct=(a("703a"),Object(o["a"])(nt,Z,tt,!1,null,"3bbc4cea",null)),dt=ct.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"members card-container"},[a("div",{staticClass:"w-100",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("h4",{staticClass:"mb-0 mr-1"},[t._v("Members")]),a("span",{staticClass:"badge badge-primary badge-pill ml-1"},[t._v(" "+t._s(t.members.length)+" ")])]),a("br"),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"dropdown pb-3"},[t._l(t.members,(function(e,s){return a("div",{key:s,staticClass:"badge badge-dark p-3 font-size-pill mb-5 initials-overlap"},[t._v(" "+t._s(e.firstName[0])+t._s(e.lastName[0])+" "),a("div",{staticClass:"first-name"},[t._v(t._s(e.firstName))])])})),a("form",{on:{submit:function(e){return e.preventDefault(),t.addCollab(e)}}},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCollab.email,expression:"newCollab.email"}],staticClass:"bg-lightest-grey pl-1",attrs:{type:"text",name:"email",placeholder:"Friend's email..."},domProps:{value:t.newCollab.email},on:{input:function(e){e.target.composing||t.$set(t.newCollab,"email",e.target.value)}}}),a("button",{staticClass:"btn-dark"},[t._v("Add")])])],2):t._e()])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"mr-md-1",attrs:{for:"email"}},[a("strong",[t._v("Add a friend to this trip")])])}],mt={name:"Members",mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},params:["tripData"],data(){return{newCollab:{email:"",tripId:this.$route.params.tripId},dropdown:!1}},methods:{addCollab(){this.$route.params.tripId;let t={...this.newCollab};this.$store.dispatch("authenticateCollab",t),this.newCollab={email:"",tripId:this.$route.params.tripId}}},computed:{members(){return this.$store.state.activeTrip.collabsProfiles}}},ft=mt,ht=(a("0df1"),Object(o["a"])(ft,pt,ut,!1,null,"02d5fc5a",null)),vt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"w-100",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("h4",{staticClass:"mb-0"},[t._v("Custom Lists")]),a("span",{staticClass:"badge badge-primary badge-pill ml-1"},[t._v(t._s(t.lists.length))])]),a("br"),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"dropdown pb-3"},[t._l(t.lists,(function(e){return a("div",{key:e._id,staticClass:"d-inline-block bg-lightest-grey m-3 p-3 align-top"},[a("div",{staticClass:"p-3"},[a("h6",{staticClass:"list-name mb-0 pt-2"},[a("b",[t._v(" "+t._s(e.title)+" "),a("i",{staticClass:"text-right fas fa-times",on:{click:function(a){return t.removeList(e._id)}}})])]),a("hr",{staticClass:"hr-thick"}),t._l(e.items,(function(s){return a("div",{key:s._id},[t._v(" "+t._s(s.itemName)+" "),a("i",{staticClass:"text-right fas fa-times",on:{click:function(a){return t.removeListItem(e._id,s._id,s.profileId._id,e.authors)}}})])})),a("button",{staticClass:"btn-dark mx-auto text-light-grey mt-3",on:{click:function(a){return t.addItem(e._id)}}},[t._v("Add Item")])],2)])})),a("hr"),a("h5",{staticClass:"pb-2"},[t._v("New list")]),a("div",{staticClass:"col-12"},[a("form",{staticClass:"row list-form d-flex direction-column",on:{submit:function(e){return e.preventDefault(),t.createList()}}},[a("label",{staticClass:"col-5 pr-1",attrs:{for:"list-name"}},[t._v("List name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.title,expression:"newList.title"}],staticClass:"col-5",attrs:{type:"text",id:"list-name",placeholder:"Enter name",required:""},domProps:{value:t.newList.title},on:{input:function(e){e.target.composing||t.$set(t.newList,"title",e.target.value)}}}),a("button",{staticClass:"btn-dark mx-auto text-light-grey",attrs:{type:"submit"}},[t._v("Add")])])])],2):t._e()])},wt=[],Ct={name:"Lists",props:["tripData"],mounted(){this.$store.dispatch("getListsByTripId",this.$route.params.tripId)},data(){return{newList:{title:"",tripId:this.$route.params.tripId,tripAuthorId:this.tripData.authorId},newItem:{itemName:"",profileId:""},dropdown:!1}},methods:{createList(){let t={...this.newList};this.$store.dispatch("addList",t),this.newList={title:"",tripId:this.$route.params.tripId,tripAuthorId:this.tripData.authorId}},removeList(t){let e=this.$route.params.tripId;this.$store.dispatch("removeList",{listId:t,tripId:e})},createListItem(t){let e={...this.newItem},a=this.$route.params.tripId;e.profileId=this.$store.state.profile._id,this.$store.dispatch("addListItem",{listId:t,listItem:e,tripId:a}),this.newItem={itemName:"",tripId:this.$route.params.tripId,profileId:""}},removeListItem(t,e,a,s){let i=this.$route.params.tripId;this.$store.state.profile._id==a||s.includes(this.$store.state.user._id)?this.$store.dispatch("removeListItem",{listId:t,listItemId:e,tripId:i}):P.errorMessage("You can't remove this item from the list")},async addItem(t){let e=await P.inputListItem("Enter New Item",{});if(e){let a={...e,profileId:this.$store.state.profile._id},s=this.$route.params.tripId;console.log("addItem says listItem is: ",a),this.$store.dispatch("addListItem",{listId:t,listItem:a,tripId:s})}}},computed:{lists(){return this.$store.state.lists},profile(){return this.$store.state.profile}}},bt=Ct,It=(a("6399"),Object(o["a"])(bt,gt,wt,!1,null,"62e85e1a",null)),yt=It.exports,_t={name:"Trip",data(){return{}},params:["tripId"],mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},computed:{trip(){return this.$store.state.activeTrip}},components:{Navbar:L,Destination:G,Carpool:X,Meals:dt,Members:vt,Lists:yt},methods:{}},$t=_t,kt=(a("1248"),Object(o["a"])($t,j,F,!1,null,"a369f2d6",null)),xt=kt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid profile"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 img-row-ht p-5 bg-green"},[t.profile._id?a("button",{staticClass:"btn",attrs:{id:"edit-profile-btn"},on:{click:function(e){return t.editProfile(t.profile)}}},[t._v("Edit Profile")]):a("button",{staticClass:"btn",attrs:{id:"create-profile-btn"},on:{click:t.createProfile}},[t._v("Create Profile")]),a("img",{staticClass:"profile-img",attrs:{src:t.profile.imgURL||"https://www.stickpng.com/assets/images/585e4bf3cb11b227491c339a.png",alt:""}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 pt-4"},[a("h3",[t._v(t._s(t.profile.firstName)+" "+t._s(t.profile.lastName))]),a("p",[t._v('"'+t._s(t.profile.description||"Live, Laugh, Love")+'"')])])]),a("hr"),a("div",{staticClass:"row pb-3"},[a("div",{staticClass:"col-6"},[a("h5",[t._v("My Trips")]),a("ul",{staticClass:"list-group list-group-flush"},t._l(t.trips,(function(e){return a("router-link",{key:e.id,attrs:{to:{name:"trip",params:{tripId:e._id}}}},[a("li",{staticClass:"list-group-item list-group-item-action"},[t._v(t._s(e.title))])])})),1)]),t._m(0)])])},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6 vertical-line"},[a("h5",[t._v("Interests")]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[t._v("Interest One")]),a("li",{staticClass:"list-group-item"},[t._v("Interest Two")]),a("li",{staticClass:"list-group-item"},[t._v("Interest Three")])])])}],Dt={name:"Profile",mounted(){this.$store.dispatch("resetActiveTrip"),this.$store.dispatch("getProfileByUserId"),this.$store.dispatch("getAllTrips")},components:{Navbar:L},methods:{async createProfile(){let t=await P.inputData("Profile",{});t&&(this.$store.dispatch("createProfile",t),this.$store.state.user.hasProfile=!0,this.$store.dispatch("updateUserHasProfile"))},async editProfile(t){let e=await P.inputData("Profile",t);e&&this.$store.dispatch("editProfile",{profileId:t._id,update:e})}},computed:{profile(){return this.$store.state.profile},trips(){return this.$store.state.trips}}},Et=Dt,Lt=(a("efd2"),Object(o["a"])(Et,Mt,Tt,!1,null,"474b3372",null)),Nt=Lt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),t._m(0),t._m(1)])},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pt-2"},[a("div",{staticClass:"col-12 col-md-6 mx-auto"},[a("form",{staticClass:"account-form text-left mb-1"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{staticClass:"form-control",attrs:{type:"email",placeholder:"Password"}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("New Password")]),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"}})]),a("div",{staticClass:"text-center"},[a("button",[t._v("Submit")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("img",{staticClass:"compass-img",attrs:{src:""}})])])}],Ut={name:"Account",mounted(){this.$store.dispatch("getProfileByUserId")},data(){return{}},methods:{},computed:{profile(){return this.$store.state.profile}},components:{Navbar:L}},Ot=Ut,At=(a("d321"),Object(o["a"])(Ot,Bt,Pt,!1,null,"4b0f8af8",null)),Rt=At.exports,jt=a("2f62"),Ft=a("bc3a"),St=a.n(Ft);let Yt=location.host.includes("localhost")?"//localhost:3000/":"/",qt=St.a.create({baseURL:Yt+"account/",timeout:3e3,withCredentials:!0}),zt=St.a.create({baseURL:Yt+"api/",timeout:3e3,withCredentials:!0});class Vt{static async Login(t){try{let e=await qt.post("login",t);return e.data}catch(e){throw P.errorMessage("Wrong email or password"),new Error(`[login failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Register(t){try{let e=await qt.post("register",t);return e.data}catch(e){throw new Error(`[registration failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Logout(){try{await qt.delete("logout");return!0}catch(t){throw new Error(`[logout failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async Authenticate(){try{let t=await qt.get("authenticate"),e=await zt.get("profiles");return{user:t.data,profile:e.data}}catch(t){console.warn(`[Authentication failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async AuthenticateCollab(t){try{let e=await qt.post("authenticateCollab",t);return console.log("From Authservice:"+t,e.data),e.data}catch(e){console.warn(e),P.errorMessage("Member not found")}}static async updateUserHasProfile(){try{let t=await qt.put("update");return console.log("From updateUserHasProfile"+t.data),t.data}catch(t){console.warn(t)}}}let Gt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Ht=St.a.create({baseURL:Gt+"api/",timeout:3e3,withCredentials:!0});var Wt={actions:{async getAllTrips({commit:t,dispatch:e}){let a=await Ht.get("trips");t("setResource",{resource:"trips",data:a.data})},async createTrip({commit:t,dispatch:e},a){await Ht.post("trips",a),e("getAllTrips")},async getTripById({commit:t,dispatch:e},a){let s=await Ht.get("trips/"+a);t("setResource",{resource:"activeTrip",data:s.data})},async removeTrip({commit:t,dispatch:e},a){await Ht.delete("trips/"+a);e("getAllTrips")},async resetActiveTrip({commit:t}){t("resetActiveTrip")}}};let Jt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Qt=St.a.create({baseURL:Jt+"api/",timeout:3e3,withCredentials:!0});var Kt={actions:{async getListsByTripId({commit:t,dispatch:e},a){let s=await Qt.get("trips/"+a+"/lists");t("setResource",{resource:"lists",data:s.data})},async addList({commit:t,dispatch:e},a){await Qt.post("lists",a);e("getListsByTripId",a.tripId)},async editList({commit:t,dispatch:e},{listId:a,update:s}){await Qt.put("lists/"+a,s);e("getListsByTripId",s.tripId)},async removeList({commit:t,dispatch:e},{listId:a,tripId:s}){try{await Qt.delete("lists/"+a);e("getListsByTripId",s)}catch(i){P.errorMessage("You can't delete that list.")}},async addListItem({commit:t,dispatch:e},{listId:a,listItem:s,tripId:i}){console.log("listModule says listItem is: ",s);await Qt.post("lists/"+a+"/items",s);e("getListsByTripId",i)},async removeListItem({commit:t,dispatch:e},{listId:a,listItemId:s,tripId:i}){await Qt.delete("lists/"+a+"/items/"+s);e("getListsByTripId",i)}}},Xt=a("8055"),Zt=a.n(Xt);let te={};var ee={actions:{initalizeSocket({commit:t,dispatch:e}){te=Zt()(),te.on("CONNECTED",t=>{console.log("Connected to socket")}),te.on("addDestination",e=>{t("setResource",{resource:"activeTrip",data:e})}),te.on("removeDestination",e=>{t("setResource",{resource:"activeTrip",data:e})}),te.on("addCarpool",t=>{e("getCarpoolsByTripId",t.tripId)}),te.on("addOccupant",t=>{e("getCarpoolsByTripId",t.tripId)}),te.on("removeOccupant",t=>{e("getCarpoolsByTripId",t.tripId)}),te.on("addMeal",t=>{e("getMealsByTripId",t.tripId)}),te.on("removeMeal",t=>{e("getMealsByTripId",t.tripId)}),te.on("addFoodItem",t=>{e("getMealsByTripId",t.tripId)}),te.on("removeFoodItem",t=>{e("getMealsByTripId",t.tripId)})}}};let ae=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",se=St.a.create({baseURL:ae+"api/",timeout:3e3,withCredentials:!0});var ie={actions:{async getCarpoolsByTripId({commit:t,dispatch:e},a){let s=await se.get("trips/"+a+"/carpools");t("setResource",{resource:"carpools",data:s.data})},async addCarpool({commit:t,dispatch:e},{tripId:a,carpool:s}){await se.post("carpools",s);e("getCarpoolsByTripId",a)},async editCarpool({commit:t,dispatch:e},{tripId:a,carpoolId:s,update:i}){await se.put("carpools/"+s,i);e("getCarpoolsByTripId",a)},async removeCarpool({commit:t,dispatch:e},{tripId:a,carpoolId:s}){try{await se.delete("carpools/"+s);e("getCarpoolsByTripId",a)}catch(i){P.errorMessage("You can't delete that carpool.")}},async addOccupant({commit:t,dispatch:e},{tripId:a,carpoolId:s,occupant:i}){await se.post("carpools/"+s+"/occupants",i);e("getCarpoolsByTripId",a)},async removeOccupant({commit:t,dispatch:e},{tripId:a,carpoolId:s,occupantId:i}){await se.delete("carpools/"+s+"/occupants/"+i);e("getCarpoolsByTripId",a)}}};let re=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",oe=St.a.create({baseURL:re+"api/",timeout:3e3,withCredentials:!0});var le={actions:{async getMealsByTripId({commit:t,dispatch:e},a){let s=await oe.get("trips/"+a+"/meals");t("setResource",{resource:"meals",data:s.data})},async addMeal({commit:t,dispatch:e},a){await oe.post("meals/",a);e("getMealsByTripId",a.tripId)},async editMeal({commit:t,dispatch:e},{mealId:a,update:s}){try{await oe.put("meals/"+a,s);e("getMealsByTripId",s.tripId)}catch(i){P.errorMessage("You can't edit that meal")}},async removeMeal({dispatch:t},{mealId:e,tripId:a}){try{await oe.delete("meals/"+e);t("getMealsByTripId",a)}catch(s){P.errorMessage("You can't delete that meal")}},async addFoodItem({commit:t,dispatch:e},{mealId:a,foodItem:s,tripId:i}){await oe.post("meals/"+a+"/foodItems",s);e("getMealsByTripId",i)},async removeFoodItem({commit:t,dispatch:e},{mealId:a,foodItemId:s,tripId:i}){await oe.delete("meals/"+a+"/foodItems/"+s);e("getMealsByTripId",i)}}};let ne=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",ce=St.a.create({baseURL:ne+"api/",timeout:3e3,withCredentials:!0});var de={actions:{async addDestination({commit:t,dispatch:e},{tripId:a,destination:s}){let i=await ce.post("trips/"+a+"/destinations",s);t("setResource",{resource:"activeTrip",data:i.data})},async removeDestination({commit:t,dispatch:e},{tripId:a,destinationId:s}){let i=await ce.delete("trips/"+a+"/destinations/"+s);t("setResource",{resource:"activeTrip",data:i.data})},async editDestination({commit:t,dispatch:e},{tripId:a,destinationId:s,update:i}){let r=await ce.put("trips/"+a+"/destinations/"+s,i);t("setResource",{resource:"activeTrip",data:r.data})}}};let pe=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",ue=St.a.create({baseURL:pe+"api/",timeout:3e3,withCredentials:!0});var me={actions:{async createProfile({commit:t,dispatch:e},a){let s=await ue.post("profiles",a);console.log("store create pofile res.data: ",s.data),be.push({name:"dashboard"}),t("setResource",{resource:"profile",data:s.data})},async getProfileByUserId({commit:t,dispatch:e}){let a=await ue.get("profiles");t("setResource",{resource:"profile",data:a.data})},async editProfile({commit:t,dispatch:e},{profileId:a,update:s}){let i=await ue.put("profiles/"+a,s);t("setResource",{resource:"profile",data:i.data})}}};s["a"].use(jt["a"]);let fe=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",he=St.a.create({baseURL:fe+"api/",timeout:3e3,withCredentials:!0}),ve=St.a.create({baseURL:"https://maps.googleapis.com/maps/api/geocode/",timeout:3e3});var ge=new jt["a"].Store({modules:{tripModule:Wt,listModule:Kt,socketModule:ee,carpoolModule:ie,mealModule:le,destinationModule:de,profileModule:me},state:{user:{},profile:{},trips:[],activeTrip:{},carpools:[],meals:[],lists:[],coords:{}},mutations:{setUser(t,e){t.user=e},setResource(t,e){t[e.resource]=e.data},resetActiveTrip(t){t.activeTrip={}},resetState(t){t.user={},t.trips=[]},setCoords(t,e){t.coords=e}},actions:{async register({commit:t,dispatch:e},a){try{let e=await Vt.Register(a);t("setUser",e),be.push({name:"profile"})}catch(s){console.warn(s.message)}},async login({commit:t,dispatch:e},a){try{let e=await Vt.Login(a),s=await he.get("profiles");s.data._id?(t("setUser",e),t("setResource",{resource:"profile",data:s.data}),be.push({name:"dashboard"})):(be.push({name:"profile"}),t("setUser",e))}catch(s){console.warn(s.message)}},async logout({commit:t,dispatch:e}){try{await Vt.Logout();t("resetState"),be.push({name:"login"})}catch(a){console.warn(a.message)}},async authenticateCollab({commit:t,dispatch:e},a){try{let t=await Vt.AuthenticateCollab(a);console.log(t),e("getTripById",a.tripId),e("getCarpoolsByTripId",a.tripId),e("getMealsByTripId",a.tripId)}catch(s){}},async updateUserHasProfile({dispatch:t,commit:e}){try{let t=await Vt.updateUserHasProfile();t.data&&e("setResource",{resource:"user",data:t.data})}catch(a){console.warn(a.message)}},async getCoords({commit:t,dispatch:e},a){try{let e=await ve.get(`json?address=${a}&key=AIzaSyAa1YgIktAEVQGkyUCNgrDGkzLchDssUII`);console.log("maps api results: ",e.data.results[0].geometry.location),t("setCoords",e.data.results[0].geometry.location)}catch(s){console.warn(s.message)}}}});s["a"].use(p["a"]);const we=[{path:"/",name:"home",component:g},{path:"/login",name:"login",component:_},{path:"/profile",name:"profile",component:Nt},{path:"/account",name:"account",component:Rt},{path:"/dashboard",name:"dashboard",component:R,beforeEnter:(t,e,a)=>{ge.state.user.hasProfile?a():(P.errorMessage("You must create a profile to access trips"),a({path:"profile"}))}},{path:"/trip/:tripId",name:"trip",component:xt}],Ce=new p["a"]({routes:we});var be=Ce,Ie=a("755e");async function ye(){let t=await Vt.Authenticate();t?(ge.commit("setUser",t.user),ge.commit("setResource",{resource:"profile",data:t.profile})):be.push({name:"home"}),new s["a"]({router:be,store:ge,render:t=>t(c)}).$mount("#app")}a("ed18").config(),s["a"].use(Ie,{load:{key:"AIzaSyAa1YgIktAEVQGkyUCNgrDGkzLchDssUII",libraries:"places"}}),ye(),ge.dispatch("initalizeSocket")},"5afd":function(t,e,a){"use strict";var s=a("461f"),i=a.n(s);i.a},6399:function(t,e,a){"use strict";var s=a("f99e"),i=a.n(s);i.a},6571:function(t,e,a){},"6bc7":function(t,e,a){},"6dd9":function(t,e,a){"use strict";var s=a("1f38"),i=a.n(s);i.a},"703a":function(t,e,a){"use strict";var s=a("dde5"),i=a.n(s);i.a},"74da":function(t,e,a){"use strict";var s=a("1bff"),i=a.n(s);i.a},"85ec":function(t,e,a){},a921:function(t,e,a){"use strict";var s=a("b3b6"),i=a.n(s);i.a},b3b6:function(t,e,a){},c907:function(t,e,a){},cd96:function(t,e,a){"use strict";var s=a("c907"),i=a.n(s);i.a},d280:function(t,e,a){},d321:function(t,e,a){"use strict";var s=a("09ba"),i=a.n(s);i.a},d9c7:function(t,e,a){"use strict";var s=a("d280"),i=a.n(s);i.a},dc12:function(t,e,a){},dde5:function(t,e,a){},efd2:function(t,e,a){"use strict";var s=a("1320"),i=a.n(s);i.a},f99e:function(t,e,a){}});
//# sourceMappingURL=app.23eb00c7.js.map