(function(t){function e(e){for(var s,r,l=e[0],n=e[1],c=e[2],p=0,u=[];p<l.length;p++)r=l[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,l=1;l<a.length;l++){var n=a[l];0!==i[n]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=n;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"093b":function(t,e,a){},"09ba":function(t,e,a){},"0b22":function(t,e,a){"use strict";var s=a("b190"),i=a.n(s);i.a},"0c26":function(t,e,a){"use strict";var s=a("2adb8"),i=a.n(s);i.a},1:function(t,e){},"2adb8":function(t,e,a){},"370e":function(t,e,a){},"3b0e":function(t,e,a){},4374:function(t,e,a){},"4e7c":function(t,e,a){"use strict";var s=a("6dac"),i=a.n(s);i.a},"51f5":function(t,e,a){"use strict";var s=a("7865"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("034f"),a("2877")),l={},n=Object(r["a"])(l,i,o,!1,null,null,null),c=n.exports,d=a("9483");Object(d["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var p=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container-fluid"},[t._m(0),t._m(1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"btn-container"},[t.user._id?a("router-link",{attrs:{to:{name:"dashboard"}}},[a("button",{staticClass:"login-btn mx-auto"},[a("p",{staticClass:"mb-0"},[t._v("LOGIN")])])]):a("router-link",{attrs:{to:{name:"login"}}},[a("button",{staticClass:"login-btn mx-auto"},[a("p",{staticClass:"mb-0"},[t._v("LOGIN")])])])],1)])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 fakenavbar"},[a("div",{staticClass:"appName"},[t._v("away")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-12 mt-4"},[a("div",{staticClass:"btn-container"},[a("button",{staticClass:"demo-btn mx-auto text-white"},[a("p",{staticClass:"mb-0"},[t._v("DEMO TRIP")])])])])])}],f={name:"home",computed:{user(){return this.$store.state.user}},components:{}},v=f,h=(a("4e7c"),Object(r["a"])(v,u,m,!1,null,"fd84678c",null)),w=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login container-fluid"},[t._m(0),a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-10 col-md-6 mx-auto login-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 col-md-8 mx-auto text-center pb-4"},[t.loginForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}})]),a("button",[t._v("Login")])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),a("button",[t._v("Register")])])]),a("div",{staticClass:"col-12 text-center hoverhand",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?a("p",[t._v("click here to register")]):a("p",[t._v("click here to login")])])])])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 fakenavbar"},[a("div",{staticClass:"appName"},[t._v("away")])])])}],b={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",hasProfile:!1}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},I=b,y=(a("f08d"),Object(r["a"])(I,g,C,!1,null,"eb69c740",null)),_=y.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row justify-content-around"},[t._l(t.trips,(function(e){return a("div",{key:e._id,staticClass:"col-12 col-md-6 col-lg-3"},[a("router-link",{attrs:{to:{name:"trip",params:{tripId:e._id}}}},[a("div",{staticClass:"card-container"},[a("h1",{staticClass:"mb-0"},[t._v(t._s(e.title))])])])],1)})),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"card-container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTrip.title,expression:"newTrip.title"}],staticClass:"form-control mx-auto",attrs:{type:"text",placeholder:"New Trip Name",required:""},domProps:{value:t.newTrip.title},on:{input:function(e){e.target.composing||t.$set(t.newTrip,"title",e.target.value)}}}),t._m(0)])])])],2)])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"mb-0"},[a("i",{staticClass:"fas fa-plus"})])}],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark negativeMargin"},[a("router-link",{attrs:{to:{name:"home"}}},[a("a",{staticClass:"navbar-brand"},[t._v("away")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("router-link",{attrs:{to:{name:"dashboard"}}},[a("li",{staticClass:"nav-item",class:{active:"dashboard"==this.$route.name}},[a("a",{staticClass:"nav-link"},[t._v("My Trips")])])]),a("router-link",{attrs:{to:{name:"profile"}}},[a("li",{staticClass:"nav-item",class:{active:"profile"==this.$route.name}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Profile")])])]),a("router-link",{attrs:{to:{name:"account"}}},[a("li",{staticClass:"nav-item",class:{active:"account"==this.$route.name}},[a("a",{staticClass:"nav-link"},[t._v("Account")])])]),a("li",{staticClass:"nav-item"},[a("button",{staticClass:"btn btn-logout ml-1 p-1",on:{click:t.logout}},[t._v("Log Out")])]),a("br")],1)])],1)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],M={name:"Navbar",methods:{logout(){this.$store.dispatch("logout")}}},E=M,D=(a("ee2e"),Object(r["a"])(E,k,T,!1,null,"1297f4f8",null)),P=D.exports,N=a("3d20"),F=a.n(N);class U{static async inputData(t="Enter Inputs",e){try{const{value:a}=await F.a.fire({title:t,html:'<form class="needs-validation profile-form" novalidate @change="checkStuff()"><label class="mb-0">Full name</label>'+`<input id="name" class="swal2-input" value="${e.name||""}" placeholder="Enter your name">`+'<label class="mb-0">Username</label>'+`<input id="username" class="swal2-input" value="${e.username||""}" placeholder="Enter a display name">`+'<label class="mb-0">Description</label>'+`<input id="description" class="swal2-input" value="${e.description||""}" placeholder="Enter description">`+'<label class="mb-0">Email</label>'+`<input id="email" type="email" class="swal2-input" value="${e.email||""}" placeholder="Public email address">`+'<label class="mb-0">Image URL</label>'+`<input id="img-url" type="text" class="swal2-input" value="${e.imgURL||""}" placeholder="Enter image URL">`+"</form>",focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("name").value,e=document.getElementById("username").value,a=document.getElementById("description").value,s=document.getElementById("email"),i=document.getElementById("img-url").value;return t&&e&&s.value||F.a.showValidationMessage("Please fill out all fields"),1==s.validity.typeMismatch&&F.a.showValidationMessage("Invalid Email Address"),[t,e,a,s.value,i]}});if(a)return{name:a[0],username:a[1],description:a[2],email:a[3],imgURL:a[4]}}catch(a){return!1}}static async inputList(t="Enter Inputs"){try{const{value:e}=await F.a.fire({title:t,html:'<input id="swal-input1" class="swal2-input">',focusConfirm:!1,preConfirm:()=>[document.getElementById("swal-input1").value]});if(e)return e[0]}catch(e){return!1}}static async errorMessage(t="Oops"){try{await F.a.fire({icon:"error",text:t})}catch(e){return!1}}}var L={name:"Dashboard",mounted(){this.$store.dispatch("resetActiveTrip"),this.$store.dispatch("getAllTrips"),this.$store.dispatch("getProfileByUserId")},data(){return{newTrip:{title:""}}},computed:{trips(){return this.$store.state.trips}},components:{Navbar:P},methods:{async createTrip(){await this.$store.dispatch("getProfileByUserId"),this.$store.state.profile._id?(this.$store.dispatch("createTrip",this.newTrip),this.newTrip={title:""}):await U.errorMessage("You must create a profile to create a trip")}}},O=L,B=(a("0c26"),Object(r["a"])(O,$,x,!1,null,"a4b580f8",null)),A=B.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trip container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 mx-auto"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addCollab(e)}}},[a("label",{staticClass:"text-white",attrs:{for:"email"}},[t._v("Add a friend to this trip...")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCollab.email,expression:"newCollab.email"}],attrs:{type:"text",name:"email",placeholder:"Enter an email..."},domProps:{value:t.newCollab.email},on:{input:function(e){e.target.composing||t.$set(t.newCollab,"email",e.target.value)}}}),a("button",[t._v("Add")])])]),a("div",{staticClass:"col-12 col-lg-10 mx-auto pt-3"},[t.trip.title?a("h3",{staticClass:"text-white"},[t._v(t._s(t.trip.title))]):a("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])]),a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Destination",{attrs:{tripData:t.trip}})],1),a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Carpool",{attrs:{tripData:t.trip}})],1),a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Meals",{attrs:{tripData:t.trip}})],1),t._m(0)])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("div",{staticClass:"card-container"},[a("i",{staticClass:"fas fa-plus"})])])}],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container top-card"},[a("div",{staticClass:"w-100",attrs:{id:"title-container"},on:{click:function(e){t.dropdown=!t.dropdown}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.trip.destinations&&t.trip.destinations.length?a("h4",{staticClass:"mb-0"},[t._v(" "+t._s(t.trip.destinations[0].location)+" ")]):a("h4",{staticClass:"mb-0"},[t._v("Destination")]),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])])])]),a("div",{staticClass:"row w-100"},[a("div",{staticClass:"col-12"},[t.dropdown?a("div",{staticClass:"dropdown"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 mx-auto"},[t.showMap?t._e():a("button",{staticClass:"mb-3",on:{click:function(e){return t.getCoords(t.trip.destinations[0].location)}}},[t._v(" Show map ")]),t.showMap?a("button",{staticClass:"mb-3",on:{click:function(e){t.showMap=!t.showMap}}},[t._v(" Hide map ")]):t._e(),t.showMap?a("div",[a("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.center,zoom:12}},t._l(t.markers,(function(e,s){return a("gmap-marker",{key:s,attrs:{position:t.center,clickable:!0,draggable:!1},on:{click:function(e){t.center=t.center}}})})),1)],1):t._e(),a("ul",{staticClass:"list-group list-group-flush"},t._l(t.tripData.destinations,(function(e){return a("li",{key:e._id,staticClass:"list-group-item list-group-item-action"},[t._v(" "+t._s(e.location)+" "),a("i",{staticClass:"far fa-times-circle",on:{click:function(a){return t.deleteDestination(e._id)}}})])})),0)])]),a("form",{staticClass:"p-3",on:{submit:function(e){return e.preventDefault(),t.addDestination(t.tripData._id)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newDestination.location,expression:"newDestination.location"}],attrs:{type:"text",placeholder:"Enter location..."},domProps:{value:t.newDestination.location},on:{input:function(e){e.target.composing||t.$set(t.newDestination,"location",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Add")])])]):t._e()])])])},z=[],G={name:"Destination",mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},props:["tripData"],data(){return{newDestination:{location:""},dropdown:!1,center:{lat:45.508,lng:-73.587},markers:[],places:[],currentPlace:null,showMap:!1}},methods:{addDestination(t){let e={...this.newDestination};this.$store.dispatch("addDestination",{tripId:t,destination:e}),this.newDestination={location:""}},async getCoords(t){await this.$store.dispatch("getCoords",t),this.showMap=!0,this.center=this.$store.state.coords},deleteDestination(t){this.$store.dispatch("removeDestination",{tripId:this.$route.params.tripId,destinationId:t})}},computed:{trip(){return this.$store.state.activeTrip}},components:{}},q=G,V=(a("0b22"),Object(r["a"])(q,S,z,!1,null,"1675c835",null)),Y=V.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"w-100",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("h4",{staticClass:"mb-0"},[t._v("Carpool")]),a("br"),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"dropdown pb-3"},[t._l(t.carpools,(function(e){return a("div",{key:e._id,staticClass:"d-inline-block"},[a("div",{staticClass:"p-3"},[a("h6",{staticClass:"car-name bg-lightest-grey mb-0 pt-2"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"car d-flex justify-content-center bg-lightest-grey text-light p-1"},[t._l(e.occupants,(function(s){return a("div",{key:s.profileId._id,staticClass:"bg-dark shadow-dark seat m-1 d-flex align-items-center justify-content-center",attrs:{title:"occupant.name",FIXME:""}},[a("i",{staticClass:"fas fa-times",on:{click:function(a){return t.removeOccupant(e._id,s._id)}}}),t._v(" "+t._s(s.profileId.name)+" ")])})),t._l(e.totalSeats-e.occupants.length,(function(s,i){return a("div",{key:i,staticClass:"bg-light-grey seat m-1 d-flex justify-content-center align-items-center",on:{click:function(a){return t.addOccupant(t.tripData._id,e._id)}}},[a("i",{staticClass:"fas fa-plus color-light-grey"})])}))],2)])])})),a("hr"),a("h5",{staticClass:"pb-2"},[t._v("New carpool")]),a("form",{staticClass:"carpool-form d-flex direction-column",on:{submit:function(e){return e.preventDefault(),t.createCarpool()}}},[a("label",{staticClass:"pr-1",attrs:{for:"carpool-name"}},[t._v("Carpool name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCarpool.name,expression:"newCarpool.name"}],attrs:{type:"text",id:"carpool-name",placeholder:"Enter name",required:""},domProps:{value:t.newCarpool.name},on:{input:function(e){e.target.composing||t.$set(t.newCarpool,"name",e.target.value)}}}),a("label",{staticClass:"pl-2 pr-1",attrs:{for:"carpool-total-seats"}},[t._v("Number of seats")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCarpool.totalSeats,expression:"newCarpool.totalSeats"}],attrs:{type:"number",min:"1",placeholder:"Total number of seats",required:""},domProps:{value:t.newCarpool.totalSeats},on:{input:function(e){e.target.composing||t.$set(t.newCarpool,"totalSeats",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Add")])])],2):t._e()])},Q=[],H={name:"Carpool",props:["tripData"],mounted(){this.$store.dispatch("getProfileByUserId"),this.$store.dispatch("getCarpoolsByTripId",this.$route.params.tripId)},data(){return{newCarpool:{name:"",totalSeats:0,tripId:this.$route.params.tripId},dropdown:!1}},methods:{createCarpool(){let t={...this.newCarpool},e=this.$route.params.tripId;this.$store.dispatch("addCarpool",{tripId:e,carpool:t}),this.newCarpool={name:"",totalSeats:0,tripId:this.$route.params.tripId}},addOccupant(t,e){console.log("carpool id from add occupant",e);let a={profileId:this.$store.state.profile._id};this.$store.dispatch("addOccupant",{tripId:t,carpoolId:e,occupant:a})},removeOccupant(t,e){let a=this.$route.params.tripId;this.$store.dispatch("removeOccupant",{tripId:a,carpoolId:t,occupantId:e})}},computed:{carpools(){return this.$store.state.carpools}}},X=H,K=(a("51f5"),Object(r["a"])(X,J,Q,!1,null,"01e06751",null)),W=K.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"title-container w-100",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("h4",{staticClass:"mb-0 mr-1"},[t._v("Meals")]),a("span",{staticClass:"badge badge-primary badge-pill ml-1"},[t._v(t._s(t.meals.length))])]),a("br"),t.dropdown?a("div",{staticClass:"arrow up-arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow down-arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"row text-left dropdown w-100"},[a("div",{staticClass:"col-12 col-md-10 mx-auto"},[a("ul",{staticClass:"list-group list-group-flush"},t._l(t.meals,(function(e,s){return a("li",{key:e._id,staticClass:"list-group-item"},[a("div",{staticClass:"d-flex justify-content-start align-items-center"},[a("div",{staticClass:"btn-group dropright"},[t._m(0,!0),a("div",{staticClass:"dropdown-menu"},[a("button",{staticClass:"dropdown-item"},[t._v("Edit")]),a("button",{staticClass:"dropdown-item",on:{click:function(a){return t.deleteMeal(e._id)}}},[t._v("Delete")])])]),a("h3",{staticClass:"mb-0"},[t._v(t._s(e.title))])]),a("ul",t._l(e.foodItems,(function(s){return a("li",{key:s._id},[a("div",{staticClass:"d-flex justify-content-start align-items-center"},[a("div",{staticClass:"btn-group dropright"},[t._m(1,!0),a("div",{staticClass:"dropdown-menu"},[a("button",{staticClass:"dropdown-item"},[t._v("Edit")]),a("button",{staticClass:"dropdown-item",on:{click:function(a){return t.deleteFoodItem(e._id,s._id)}}},[t._v("Delete")])])]),a("span",[t._v(t._s(s.foodName))])]),a("p",{staticClass:"food-item-author"},[t._v("Added by: "+t._s(t.profile.name))])])})),0),a("form",{staticClass:"w-50 mx-auto",attrs:{type:"text"},on:{submit:function(a){return a.preventDefault(),t.addFoodItem(e._id,s)}}},[a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newFoodItems[s].foodName,expression:"newFoodItems[index].foodName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Food Item..."},domProps:{value:t.newFoodItems[s].foodName},on:{input:function(e){e.target.composing||t.$set(t.newFoodItems[s],"foodName",e.target.value)}}})]),a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newFoodItems[s].details,expression:"newFoodItems[index].details"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Food Item Details..."},domProps:{value:t.newFoodItems[s].details},on:{input:function(e){e.target.composing||t.$set(t.newFoodItems[s],"details",e.target.value)}}})]),a("button",{staticClass:"btn food-item-btn btn-block text-white",attrs:{type:"submit"}},[t._v("Add Item")])])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-8 mx-auto"},[a("form",{staticClass:"p-3",on:{submit:function(e){return e.preventDefault(),t.addMeal(e)}}},[a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeal.title,expression:"newMeal.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Meal Title..."},domProps:{value:t.newMeal.title},on:{input:function(e){e.target.composing||t.$set(t.newMeal,"title",e.target.value)}}})]),a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeal.details,expression:"newMeal.details"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Any details for your meal?"},domProps:{value:t.newMeal.details},on:{input:function(e){e.target.composing||t.$set(t.newMeal,"details",e.target.value)}}})]),a("button",{staticClass:"btn meal-btn btn-block text-white",attrs:{type:"submit"},on:{click:function(e){return t.addFoodItemForm()}}},[t._v("Add Meal")])])])])])]):t._e(),t.dropdown?a("div",{staticClass:"w-100 text-right arrow bottom-up-arrow",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("i",{staticClass:"fas fa-angle-double-up pr-3"})]):t._e()])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn",attrs:{type:"button","data-toggle":"dropdown"}},[a("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-sm",attrs:{type:"button","data-toggle":"dropdown"}},[a("i",{staticClass:"fas fa-ellipsis-v food-item-menu"})])}],et={name:"Meals",props:["tripData"],mounted(){console.log("Meals view mounted profile:",this.$store.state.profile),this.$store.dispatch("getMealsByTripId",this.$route.params.tripId).then(t=>{this.getFoodItemForms()})},data(){return{dropdown:!1,newMeal:{title:"",details:"",foodItems:[],tripId:this.$route.params.tripId},newFoodItems:[]}},methods:{addMeal(){let t={...this.newMeal};this.$store.dispatch("addMeal",t),this.newMeal={title:"",details:"",foodItems:[],tripId:this.$route.params.tripId}},deleteMeal(t){this.$store.dispatch("removeMeal",{mealId:t,tripId:this.$route.params.tripId})},addFoodItem(t,e){let a={...this.newFoodItems[e]},s=this.$route.params.tripId;this.$store.dispatch("addFoodItem",{mealId:t,foodItem:a,tripId:s}),this.newFoodItems[e]={profileId:this.profile._id,foodName:"",details:""}},addFoodItemForm(){this.newFoodItems.push({profileId:this.profile._id,foodName:"",details:""}),console.log(this.newFoodItems)},getFoodItemForms(){this.meals.forEach(t=>{this.newFoodItems.push({profileId:this.profile._id,foodName:"",details:""})})},deleteFoodItem(t,e){this.$store.dispatch("removeFoodItem",{mealId:t,foodItemId:e,tripId:this.$route.params.tripId})}},computed:{meals(){return this.$store.state.meals},profile(){return this.$store.state.profile}}},at=et,st=(a("f72d"),Object(r["a"])(at,Z,tt,!1,null,"4e743482",null)),it=st.exports,ot={name:"Trip",data(){return{newCollab:{email:"",tripId:this.$route.params.tripId}}},params:["tripId"],mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},computed:{trip(){return this.$store.state.activeTrip}},components:{Navbar:P,Destination:Y,Carpool:W,Meals:it},methods:{addCollab(){this.$route.params.tripId;let t={...this.newCollab};this.$store.dispatch("authenticateCollab",t),this.newCollab={email:"",tripId:this.$route.params.tripId}}}},rt=ot,lt=(a("a67a"),Object(r["a"])(rt,R,j,!1,null,"46550efe",null)),nt=lt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid profile"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 img-row-ht p-5 bg-green"},[t.profile._id?a("button",{staticClass:"btn",attrs:{id:"edit-profile-btn"},on:{click:function(e){return t.editProfile(t.profile)}}},[t._v("Edit Profile")]):a("button",{staticClass:"btn",attrs:{id:"create-profile-btn"},on:{click:t.createProfile}},[t._v("Create Profile")]),a("img",{staticClass:"profile-img",attrs:{src:t.profile.imgURL||"https://www.stickpng.com/assets/images/585e4bf3cb11b227491c339a.png",alt:""}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 pt-4"},[a("h3",[t._v(t._s(t.profile.name))]),a("p",[t._v('"'+t._s(t.profile.description||"Live, Laugh, Love")+'"')])])]),a("hr"),a("div",{staticClass:"row pb-3"},[a("div",{staticClass:"col-6"},[a("h5",[t._v("My Trips")]),a("ul",{staticClass:"list-group list-group-flush"},t._l(t.trips,(function(e){return a("router-link",{key:e.id,attrs:{to:{name:"trip",params:{tripId:e._id}}}},[a("li",{staticClass:"list-group-item list-group-item-action"},[t._v(t._s(e.title))])])})),1)]),t._m(0)])])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6 vertical-line"},[a("h5",[t._v("Interests")]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[t._v("Interest One")]),a("li",{staticClass:"list-group-item"},[t._v("Interest Two")]),a("li",{staticClass:"list-group-item"},[t._v("Interest Three")])])])}],pt={name:"Profile",mounted(){this.$store.dispatch("resetActiveTrip"),this.$store.dispatch("getProfileByUserId"),this.$store.dispatch("getAllTrips")},components:{Navbar:P},methods:{async createProfile(){let t=await U.inputData("Profile",{});t&&this.$store.dispatch("createProfile",t)},async editProfile(t){let e=await U.inputData("Profile",t);e&&(console.log("sweetalert edit profile:",e),this.$store.dispatch("editProfile",{profileId:t._id,update:e}))}},computed:{profile(){return this.$store.state.profile},trips(){return this.$store.state.trips}}},ut=pt,mt=(a("c9d1"),Object(r["a"])(ut,ct,dt,!1,null,"3e28994a",null)),ft=mt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),t._m(0),t._m(1)])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pt-2"},[a("div",{staticClass:"col-12 col-md-6 mx-auto"},[a("form",{staticClass:"account-form text-left mb-1"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{staticClass:"form-control",attrs:{type:"email",placeholder:"Password"}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("New Password")]),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"}})]),a("div",{staticClass:"text-center"},[a("button",[t._v("Submit")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("img",{staticClass:"compass-img",attrs:{src:""}})])])}],wt={name:"Account",mounted(){this.$store.dispatch("getProfileByUserId")},data(){return{}},methods:{},computed:{profile(){return this.$store.state.profile}},components:{Navbar:P}},gt=wt,Ct=(a("d321"),Object(r["a"])(gt,vt,ht,!1,null,"4b0f8af8",null)),bt=Ct.exports;s["a"].use(p["a"]);const It=[{path:"/",name:"home",component:w},{path:"/login",name:"login",component:_},{path:"/profile",name:"profile",component:ft},{path:"/account",name:"account",component:bt},{path:"/dashboard",name:"dashboard",component:A},{path:"/trip/:tripId",name:"trip",component:nt}],yt=new p["a"]({routes:It});var _t=yt,$t=a("2f62"),xt=a("bc3a"),kt=a.n(xt);let Tt=location.host.includes("localhost")?"//localhost:3000/":"/",Mt=kt.a.create({baseURL:Tt+"account/",timeout:3e3,withCredentials:!0}),Et=kt.a.create({baseURL:Tt+"api/",timeout:3e3,withCredentials:!0});class Dt{static async Login(t){try{let e=await Mt.post("login",t);return e.data}catch(e){throw new Error(`[login failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Register(t){try{let e=await Mt.post("register",t);return e.data}catch(e){throw new Error(`[registration failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Logout(){try{await Mt.delete("logout");return!0}catch(t){throw new Error(`[logout failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async Authenticate(){try{let t=await Mt.get("authenticate"),e=await Et.get("profiles");return console.log("AuthService profile:",e.data),{user:t.data,profile:e.data}}catch(t){console.warn(`[Authentication failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async AuthenticateCollab(t){try{let e=await Mt.post("authenticateCollab",t);return console.log("From Authservice:"+t,e.data),e.data}catch(e){console.warn(e)}}}let Pt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Nt=kt.a.create({baseURL:Pt+"api/",timeout:3e3,withCredentials:!0});var Ft={actions:{async getAllTrips({commit:t,dispatch:e}){let a=await Nt.get("trips");t("setResource",{resource:"trips",data:a.data})},async createTrip({commit:t,dispatch:e},a){await Nt.post("trips",a),e("getAllTrips")},async getTripById({commit:t,dispatch:e},a){let s=await Nt.get("trips/"+a);t("setResource",{resource:"activeTrip",data:s.data})},async resetActiveTrip({commit:t}){t("resetActiveTrip")}}};let Ut=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Lt=kt.a.create({baseURL:Ut+"api/",timeout:3e3,withCredentials:!0});var Ot={actions:{async getListsByTripId({commit:t,dispatch:e},a){let s=await Lt.get("trips/"+a+"/lists");t("setResource",{resource:"lists",data:s.data})},async addList({commit:t,dispatch:e},a){await Lt.post("lists",a);e("getListsByTripId",a.tripId)},async editList({commit:t,dispatch:e},{listId:a,update:s}){await Lt.put("lists/"+a,s);e("getListsByTripId",s.tripId)},async removeList({commit:t,dispatch:e},{listId:a,tripId:s}){await Lt.delete("lists/"+a);e("getListsByTripId",s)},async addListItem({commit:t,dispatch:e},{listId:a,listItem:s,tripId:i}){await Lt.post("lists/"+a+"/items",s);e("getListsByTripId",i)},async removeListItem({commit:t,dispatch:e},{listId:a,listItemId:s,tripId:i}){await Lt.delete("lists/"+a+"/items/"+s);e("getListsByTripId",i)}}},Bt=a("8055"),At=a.n(Bt);let Rt={};var jt={actions:{initalizeSocket({commit:t,dispatch:e}){Rt=At()("//localhost:3000"),Rt.on("CONNECTED",t=>{console.log("Connected to socket")}),Rt.on("addDestination",e=>{t("setResource",{resource:"activeTrip",data:e})}),Rt.on("removeDestination",e=>{t("setResource",{resource:"activeTrip",data:e})})}}};let St=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",zt=kt.a.create({baseURL:St+"api/",timeout:3e3,withCredentials:!0});var Gt={actions:{async getCarpoolsByTripId({commit:t,dispatch:e},a){let s=await zt.get("trips/"+a+"/carpools");t("setResource",{resource:"carpools",data:s.data})},async addCarpool({commit:t,dispatch:e},{tripId:a,carpool:s}){await zt.post("carpools",s);e("getCarpoolsByTripId",a)},async editCarpool({commit:t,dispatch:e},{tripId:a,carpoolId:s,update:i}){await zt.put("carpools/"+s,i);e("getCarpoolsByTripId",a)},async removeCarpool({commit:t,dispatch:e},{tripId:a,carpoolId:s}){await zt.delete("carpools/"+s);e("getCarpoolsByTripId",a)},async addOccupant({commit:t,dispatch:e},{tripId:a,carpoolId:s,occupant:i}){await zt.post("carpools/"+s+"/occupants",i);e("getCarpoolsByTripId",a)},async removeOccupant({commit:t,dispatch:e},{tripId:a,carpoolId:s,occupantId:i}){await zt.delete("carpools/"+s+"/occupants/"+i);e("getCarpoolsByTripId",a)}}};let qt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Vt=kt.a.create({baseURL:qt+"api/",timeout:3e3,withCredentials:!0});var Yt={actions:{async getMealsByTripId({commit:t,dispatch:e},a){let s=await Vt.get("trips/"+a+"/meals");t("setResource",{resource:"meals",data:s.data})},async addMeal({commit:t,dispatch:e},a){await Vt.post("meals/",a);e("getMealsByTripId",a.tripId)},async editMeal({commit:t,dispatch:e},{mealId:a,update:s}){await Vt.put("meals/"+a,s);e("getMealsByTripId",s.tripId)},async removeMeal({dispatch:t},{mealId:e,tripId:a}){await Vt.delete("meals/"+e);t("getMealsByTripId",a)},async addFoodItem({commit:t,dispatch:e},{mealId:a,foodItem:s,tripId:i}){await Vt.post("meals/"+a+"/foodItems",s);e("getMealsByTripId",i)},async removeFoodItem({commit:t,dispatch:e},{mealId:a,foodItemId:s,tripId:i}){await Vt.delete("meals/"+a+"/foodItems/"+s);e("getMealsByTripId",i)}}};let Jt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Qt=kt.a.create({baseURL:Jt+"api/",timeout:3e3,withCredentials:!0});var Ht={actions:{async addDestination({commit:t,dispatch:e},{tripId:a,destination:s}){let i=await Qt.post("trips/"+a+"/destinations",s);t("setResource",{resource:"activeTrip",data:i.data})},async removeDestination({commit:t,dispatch:e},{tripId:a,destinationId:s}){let i=await Qt.delete("trips/"+a+"/destinations/"+s);t("setResource",{resource:"activeTrip",data:i.data})},async editDestination({commit:t,dispatch:e},{tripId:a,destinationId:s,update:i}){let o=await Qt.put("trips/"+a+"/destinations/"+s,i);t("setResource",{resource:"activeTrip",data:o.data})}}};let Xt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Kt=kt.a.create({baseURL:Xt+"api/",timeout:3e3,withCredentials:!0});var Wt={actions:{async createProfile({commit:t,dispatch:e},a){let s=await Kt.post("profiles",a);console.log("store create pofile res.data: ",s.data),t("setResource",{resource:"profile",data:s.data})},async getProfileByUserId({commit:t,dispatch:e}){let a=await Kt.get("profiles");t("setResource",{resource:"profile",data:a.data})},async editProfile({commit:t,dispatch:e},{profileId:a,update:s}){let i=await Kt.put("profiles/"+a,s);t("setResource",{resource:"profile",data:i.data})}}};s["a"].use($t["a"]);let Zt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",te=kt.a.create({baseURL:Zt+"api/",timeout:3e3,withCredentials:!0}),ee=kt.a.create({baseURL:"https://maps.googleapis.com/maps/api/geocode/",timeout:3e3});var ae=new $t["a"].Store({modules:{tripModule:Ft,listModule:Ot,socketModule:jt,carpoolModule:Gt,mealModule:Yt,destinationModule:Ht,profileModule:Wt},state:{user:{},profile:{},trips:[],activeTrip:{},carpools:[],meals:[],lists:[],coords:{}},mutations:{setUser(t,e){t.user=e},setResource(t,e){t[e.resource]=e.data},resetActiveTrip(t){t.activeTrip={}},resetState(t){t.user={},t.trips=[]},setCoords(t,e){t.coords=e}},actions:{async register({commit:t,dispatch:e},a){try{let e=await Dt.Register(a);t("setUser",e),_t.push({name:"dashboard"})}catch(s){console.warn(s.message)}},async login({commit:t,dispatch:e},a){try{let e=await Dt.Login(a);t("setUser",e);let s=await te.get("profiles");s.data._id?(t("setResource",{resource:"profile",data:s.data}),_t.push({name:"dashboard"})):_t.push({name:"profile"})}catch(s){console.warn(s.message)}},async logout({commit:t,dispatch:e}){try{await Dt.Logout();t("resetState"),_t.push({name:"login"})}catch(a){console.warn(a.message)}},async authenticateCollab({commit:t,dispatch:e},a){try{let t=await Dt.AuthenticateCollab(a);console.log(t),e("getTripById",a.tripId)}catch(s){}},async getCoords({commit:t,dispatch:e},a){try{let e=await ee.get(`json?address=${a}&key=AIzaSyAa1YgIktAEVQGkyUCNgrDGkzLchDssUII`);console.log("maps api results: ",e.data.results[0].geometry.location),t("setCoords",e.data.results[0].geometry.location)}catch(s){console.warn(s.message)}}}}),se=a("755e");async function ie(){let t=await Dt.Authenticate();t?(ae.commit("setUser",t.user),ae.commit("setResource",{resource:"profile",data:t.profile})):_t.push({name:"home"}),new s["a"]({router:_t,store:ae,render:t=>t(c)}).$mount("#app")}a("ed18").config(),s["a"].use(se,{load:{key:"AIzaSyAa1YgIktAEVQGkyUCNgrDGkzLchDssUII",libraries:"places"}}),ie(),ae.dispatch("initalizeSocket")},"6dac":function(t,e,a){},7865:function(t,e,a){},"85ec":function(t,e,a){},"9f68":function(t,e,a){},a67a:function(t,e,a){"use strict";var s=a("9f68"),i=a.n(s);i.a},b190:function(t,e,a){},c9d1:function(t,e,a){"use strict";var s=a("4374"),i=a.n(s);i.a},d321:function(t,e,a){"use strict";var s=a("09ba"),i=a.n(s);i.a},ee2e:function(t,e,a){"use strict";var s=a("3b0e"),i=a.n(s);i.a},f08d:function(t,e,a){"use strict";var s=a("093b"),i=a.n(s);i.a},f72d:function(t,e,a){"use strict";var s=a("370e"),i=a.n(s);i.a}});
//# sourceMappingURL=app.9b9b206e.js.map