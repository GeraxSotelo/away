(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],p=0,u=[];p<n.length;p++)r=n[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"04fe":function(t,e,a){"use strict";var s=a("881e"),i=a.n(s);i.a},"093b":function(t,e,a){},"09ba":function(t,e,a){},"0a4f":function(t,e,a){"use strict";var s=a("ee4b"),i=a.n(s);i.a},"0c26":function(t,e,a){"use strict";var s=a("2adb8"),i=a.n(s);i.a},1:function(t,e){},"2adb8":function(t,e,a){},"3b0e":function(t,e,a){},4374:function(t,e,a){},"487e":function(t,e,a){"use strict";var s=a("feec"),i=a.n(s);i.a},"4e7c":function(t,e,a){"use strict";var s=a("6dac"),i=a.n(s);i.a},"51f5":function(t,e,a){"use strict";var s=a("7865"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("034f"),a("2877")),n={},l=Object(r["a"])(n,i,o,!1,null,null,null),c=l.exports,d=a("9483");Object(d["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var p=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container-fluid"},[t._m(0),t._m(1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"btn-container"},[t.user._id?a("router-link",{attrs:{to:{name:"dashboard"}}},[a("button",{staticClass:"login-btn mx-auto"},[a("p",{staticClass:"mb-0"},[t._v("LOGIN")])])]):a("router-link",{attrs:{to:{name:"login"}}},[a("button",{staticClass:"login-btn mx-auto"},[a("p",{staticClass:"mb-0"},[t._v("LOGIN")])])])],1)])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 fakenavbar"},[a("div",{staticClass:"appName"},[t._v("away")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-12 mt-4"},[a("div",{staticClass:"btn-container"},[a("button",{staticClass:"demo-btn mx-auto text-white"},[a("p",{staticClass:"mb-0"},[t._v("DEMO TRIP")])])])])])}],v={name:"home",computed:{user(){return this.$store.state.user}},components:{}},f=v,h=(a("4e7c"),Object(r["a"])(f,u,m,!1,null,"fd84678c",null)),w=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login container-fluid"},[t._m(0),a("div",{staticClass:"row pt-5"},[a("div",{staticClass:"col-10 col-md-6 mx-auto login-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10 col-md-8 mx-auto text-center pb-4"},[t.loginForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}})]),a("button",[t._v("Login")])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),a("button",[t._v("Register")])])]),a("div",{staticClass:"col-12 text-center hoverhand",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?a("p",[t._v("click here to register")]):a("p",[t._v("click here to login")])])])])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 fakenavbar"},[a("div",{staticClass:"appName"},[t._v("away")])])])}],b={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",hasProfile:!1}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},y=b,_=(a("f08d"),Object(r["a"])(y,g,C,!1,null,"eb69c740",null)),I=_.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row justify-content-around"},[t._l(t.trips,(function(e){return a("div",{key:e._id,staticClass:"col-12 col-md-6 col-lg-3"},[a("router-link",{attrs:{to:{name:"trip",params:{tripId:e._id}}}},[a("div",{staticClass:"card-container"},[a("h1",{staticClass:"mb-0"},[t._v(t._s(e.title))])])])],1)})),a("div",{staticClass:"col-12 col-md-6 col-lg-3"},[a("div",{staticClass:"card-container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createTrip(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTrip.title,expression:"newTrip.title"}],staticClass:"form-control mx-auto",attrs:{type:"text",placeholder:"New Trip Name",required:""},domProps:{value:t.newTrip.title},on:{input:function(e){e.target.composing||t.$set(t.newTrip,"title",e.target.value)}}}),t._m(0)])])])],2)])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"mb-0"},[a("i",{staticClass:"fas fa-plus"})])}],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark negativeMargin"},[a("router-link",{attrs:{to:{name:"home"}}},[a("a",{staticClass:"navbar-brand"},[t._v("away")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("router-link",{attrs:{to:{name:"dashboard"}}},[a("li",{staticClass:"nav-item",class:{active:"dashboard"==this.$route.name}},[a("a",{staticClass:"nav-link"},[t._v("My Trips")])])]),a("router-link",{attrs:{to:{name:"profile"}}},[a("li",{staticClass:"nav-item",class:{active:"profile"==this.$route.name}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Profile")])])]),a("router-link",{attrs:{to:{name:"account"}}},[a("li",{staticClass:"nav-item",class:{active:"account"==this.$route.name}},[a("a",{staticClass:"nav-link"},[t._v("Account")])])]),a("li",{staticClass:"nav-item"},[a("button",{staticClass:"btn btn-logout ml-1 p-1",on:{click:t.logout}},[t._v("Log Out")])]),a("br")],1)])],1)},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],E={name:"Navbar",methods:{logout(){this.$store.dispatch("logout")}}},M=E,P=(a("ee2e"),Object(r["a"])(M,x,k,!1,null,"1297f4f8",null)),D=P.exports,O=a("3d20"),L=a.n(O);class N{static async inputData(t="Enter Inputs",e){try{const{value:a}=await L.a.fire({title:t,html:'<form class="needs-validation profile-form" novalidate @change="checkStuff()"><label class="mb-0">Full name</label>'+`<input id="name" class="swal2-input" value="${e.name||""}" placeholder="Enter your name">`+'<label class="mb-0">Username</label>'+`<input id="username" class="swal2-input" value="${e.username||""}" placeholder="Enter a display name">`+'<label class="mb-0">Description</label>'+`<input id="description" class="swal2-input" value="${e.description||""}" placeholder="Enter description">`+'<label class="mb-0">Email</label>'+`<input id="email" type="email" class="swal2-input" value="${e.email||""}" placeholder="Public email address">`+'<label class="mb-0">Image URL</label>'+`<input id="img-url" type="text" class="swal2-input" value="${e.imgURL||""}" placeholder="Enter image URL">`+"</form>",focusConfirm:!1,preConfirm:()=>{let t=document.getElementById("name").value,e=document.getElementById("username").value,a=document.getElementById("description").value,s=document.getElementById("email"),i=document.getElementById("img-url").value;return t&&e&&s.value||L.a.showValidationMessage("Please fill out all fields"),1==s.validity.typeMismatch&&L.a.showValidationMessage("Invalid Email Address"),[t,e,a,s.value,i]}});if(a)return{name:a[0],username:a[1],description:a[2],email:a[3],imgURL:a[4]}}catch(a){return!1}}static async inputList(t="Enter Inputs"){try{const{value:e}=await L.a.fire({title:t,html:'<input id="swal-input1" class="swal2-input">',focusConfirm:!1,preConfirm:()=>[document.getElementById("swal-input1").value]});if(e)return e[0]}catch(e){return!1}}static async errorMessage(t="Oops"){try{await L.a.fire({icon:"error",text:t})}catch(e){return!1}}}var U={name:"Dashboard",mounted(){this.$store.dispatch("resetActiveTrip"),this.$store.dispatch("getAllTrips"),this.$store.dispatch("getProfileByUserId")},data(){return{newTrip:{title:""}}},computed:{trips(){return this.$store.state.trips}},components:{Navbar:D},methods:{async createTrip(){await this.$store.dispatch("getProfileByUserId"),this.$store.state.profile._id?(this.$store.dispatch("createTrip",this.newTrip),this.newTrip={title:""}):await N.errorMessage("You must create a profile to create a trip")}}},B=U,R=(a("0c26"),Object(r["a"])(B,$,T,!1,null,"a4b580f8",null)),A=R.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trip container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-10 mx-auto pt-3"},[t.trip.title?a("h3",{staticClass:"text-white"},[t._v(t._s(t.trip.title))]):a("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])]),a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Destination",{attrs:{tripData:t.trip}})],1),a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Carpool",{attrs:{tripData:t.trip}})],1),a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("Meals",{attrs:{tripData:t.trip}})],1),t._m(0)])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-lg-10 mx-auto"},[a("div",{staticClass:"card-container"},[a("i",{staticClass:"fas fa-plus"})])])}],F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container top-card"},[a("div",{staticClass:"w-100",attrs:{id:"title-container"},on:{click:function(e){t.dropdown=!t.dropdown}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.trip.destinations&&t.trip.destinations.length?a("h4",{staticClass:"mb-0"},[t._v(" "+t._s(t.trip.destinations[0].location)+" ")]):a("h4",{staticClass:"mb-0"},[t._v("Destination")]),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])])])]),a("div",{staticClass:"row w-100"},[a("div",{staticClass:"col-12"},[t.dropdown?a("div",{staticClass:"dropdown"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 mx-auto"},[t.showMap?t._e():a("button",{staticClass:"mb-3",on:{click:function(e){return t.getCoords(t.trip.destinations[0].location)}}},[t._v(" Show map ")]),t.showMap?a("button",{staticClass:"mb-3",on:{click:function(e){t.showMap=!t.showMap}}},[t._v(" Hide map ")]):t._e(),t.showMap?a("div",[a("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.center,zoom:12}},t._l(t.markers,(function(e,s){return a("gmap-marker",{key:s,attrs:{position:e.position},on:{click:function(a){t.center=e.position}}})})),1)],1):t._e(),a("ul",{staticClass:"list-group list-group-flush"},t._l(t.tripData.destinations,(function(e){return a("li",{key:e._id,staticClass:"list-group-item list-group-item-action"},[t._v(" "+t._s(e.location)+" "),a("i",{staticClass:"far fa-times-circle",on:{click:function(a){return t.deleteDestination(e._id)}}})])})),0)])]),a("form",{staticClass:"p-3",on:{submit:function(e){return e.preventDefault(),t.addDestination(t.tripData._id)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newDestination.location,expression:"newDestination.location"}],attrs:{type:"text",placeholder:"Enter location..."},domProps:{value:t.newDestination.location},on:{input:function(e){e.target.composing||t.$set(t.newDestination,"location",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Add")])])]):t._e()])])])},G=[],V={name:"Destination",mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},props:["tripData"],data(){return{newDestination:{location:""},dropdown:!1,center:{lat:45.508,lng:-73.587},markers:[],places:[],currentPlace:null,showMap:!1}},methods:{addDestination(t){let e={...this.newDestination};this.$store.dispatch("addDestination",{tripId:t,destination:e}),this.newDestination={location:""}},async getCoords(t){await this.$store.dispatch("getCoords",t),this.showMap=!0,this.center=this.$store.state.coords},deleteDestination(t){this.$store.dispatch("removeDestination",{tripId:this.$route.params.tripId,destinationId:t})}},computed:{trip(){return this.$store.state.activeTrip}},components:{}},q=V,z=(a("04fe"),Object(r["a"])(q,F,G,!1,null,"98ab7636",null)),Y=z.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"w-100",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("h4",{staticClass:"mb-0"},[t._v("Carpool")]),a("br"),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"dropdown pb-3"},[t._l(t.carpools,(function(e){return a("div",{key:e._id,staticClass:"d-inline-block"},[a("div",{staticClass:"p-3"},[a("h6",{staticClass:"car-name bg-lightest-grey mb-0 pt-2"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"car d-flex justify-content-center bg-lightest-grey text-light p-1"},[t._l(e.occupants,(function(s){return a("div",{key:s.profileId._id,staticClass:"bg-dark shadow-dark seat m-1 d-flex align-items-center justify-content-center",attrs:{title:"occupant.name",FIXME:""}},[a("i",{staticClass:"fas fa-times",on:{click:function(a){return t.removeOccupant(e._id,s._id)}}}),t._v(" "+t._s(s.profileId.name)+" ")])})),t._l(e.totalSeats-e.occupants.length,(function(s,i){return a("div",{key:i,staticClass:"bg-light-grey seat m-1 d-flex justify-content-center align-items-center",on:{click:function(a){return t.addOccupant(t.tripData._id,e._id)}}},[a("i",{staticClass:"fas fa-plus color-light-grey"})])}))],2)])])})),a("hr"),a("h5",{staticClass:"pb-2"},[t._v("New carpool")]),a("form",{staticClass:"carpool-form d-flex direction-column",on:{submit:function(e){return e.preventDefault(),t.createCarpool()}}},[a("label",{staticClass:"pr-1",attrs:{for:"carpool-name"}},[t._v("Carpool name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCarpool.name,expression:"newCarpool.name"}],attrs:{type:"text",id:"carpool-name",placeholder:"Enter name",required:""},domProps:{value:t.newCarpool.name},on:{input:function(e){e.target.composing||t.$set(t.newCarpool,"name",e.target.value)}}}),a("label",{staticClass:"pl-2 pr-1",attrs:{for:"carpool-total-seats"}},[t._v("Number of seats")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCarpool.totalSeats,expression:"newCarpool.totalSeats"}],attrs:{type:"number",min:"1",placeholder:"Total number of seats",required:""},domProps:{value:t.newCarpool.totalSeats},on:{input:function(e){e.target.composing||t.$set(t.newCarpool,"totalSeats",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Add")])])],2):t._e()])},K=[],H={name:"Carpool",props:["tripData"],mounted(){this.$store.dispatch("getProfileByUserId"),this.$store.dispatch("getCarpoolsByTripId",this.$route.params.tripId)},data(){return{newCarpool:{name:"",totalSeats:0,tripId:this.$route.params.tripId},dropdown:!1}},methods:{createCarpool(){let t={...this.newCarpool},e=this.$route.params.tripId;this.$store.dispatch("addCarpool",{tripId:e,carpool:t}),this.newCarpool={name:"",totalSeats:0,tripId:this.$route.params.tripId}},addOccupant(t,e){console.log("carpool id from add occupant",e);let a={profileId:this.$store.state.profile._id};this.$store.dispatch("addOccupant",{tripId:t,carpoolId:e,occupant:a})},removeOccupant(t,e){let a=this.$route.params.tripId;this.$store.dispatch("removeOccupant",{tripId:a,carpoolId:t,occupantId:e})}},computed:{carpools(){return this.$store.state.carpools}}},X=H,Q=(a("51f5"),Object(r["a"])(X,J,K,!1,null,"01e06751",null)),W=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"w-100",on:{click:function(e){t.dropdown=!t.dropdown}}},[a("br"),a("h4",{staticClass:"mb-0"},[t._v("Meals")]),a("br"),t.dropdown?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-up"})]):a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-angle-double-down"})])]),t.dropdown?a("div",{staticClass:"dropdown w-100"},[t._l(t.meals,(function(e){return a("div",{key:e._id,on:{click:function(e){t.dropdown=!t.dropdown}}},[t._v(" "+t._s(e.title)+" ")])})),a("form",{staticClass:"p-3",on:{submit:function(e){return e.preventDefault(),t.addMeal(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeal.title,expression:"newMeal.title"}],attrs:{type:"text",placeholder:"Enter Meal Title..."},domProps:{value:t.newMeal.title},on:{input:function(e){e.target.composing||t.$set(t.newMeal,"title",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeal.details,expression:"newMeal.details"}],attrs:{type:"text",placeholder:"Any details for your meal?"},domProps:{value:t.newMeal.details},on:{input:function(e){e.target.composing||t.$set(t.newMeal,"details",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Add Meal")])])],2):t._e()])},tt=[],et={name:"Meals",props:["tripData"],mounted(){this.$store.dispatch("getMealsByTripId",this.$route.params.tripId)},data(){return{dropdown:!1,newMeal:{title:"",details:"",foodItems:[],tripId:this.$route.params.tripId}}},methods:{addMeal(){let t={...this.newMeal};this.$store.dispatch("addMeal",t),this.newMeal={title:"",details:"",foodItems:[],tripId:this.$route.params.tripId}}},computed:{meals(){return this.$store.state.meals}}},at=et,st=(a("0a4f"),Object(r["a"])(at,Z,tt,!1,null,"04fe01d8",null)),it=st.exports,ot={name:"Trip",params:["tripId"],mounted(){this.$store.dispatch("getTripById",this.$route.params.tripId)},computed:{trip(){return this.$store.state.activeTrip}},components:{Navbar:D,Destination:Y,Carpool:W,Meals:it},methods:{}},rt=ot,nt=(a("487e"),Object(r["a"])(rt,j,S,!1,null,"26c824c9",null)),lt=nt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid profile"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 img-row-ht p-5 bg-green"},[t.profile._id?a("button",{staticClass:"btn",attrs:{id:"edit-profile-btn"},on:{click:function(e){return t.editProfile(t.profile)}}},[t._v("Edit Profile")]):a("button",{staticClass:"btn",attrs:{id:"create-profile-btn"},on:{click:t.createProfile}},[t._v("Create Profile")]),a("img",{staticClass:"profile-img",attrs:{src:t.profile.imgURL||"https://www.stickpng.com/assets/images/585e4bf3cb11b227491c339a.png",alt:""}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 pt-4"},[a("h3",[t._v(t._s(t.profile.name))]),a("p",[t._v('"'+t._s(t.profile.description||"Live, Laugh, Love")+'"')])])]),a("hr"),a("div",{staticClass:"row pb-3"},[a("div",{staticClass:"col-6"},[a("h5",[t._v("My Trips")]),a("ul",{staticClass:"list-group list-group-flush"},t._l(t.trips,(function(e){return a("router-link",{key:e.id,attrs:{to:{name:"trip",params:{tripId:e._id}}}},[a("li",{staticClass:"list-group-item list-group-item-action"},[t._v(t._s(e.title))])])})),1)]),t._m(0)])])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6 vertical-line"},[a("h5",[t._v("Interests")]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[t._v("Interest One")]),a("li",{staticClass:"list-group-item"},[t._v("Interest Two")]),a("li",{staticClass:"list-group-item"},[t._v("Interest Three")])])])}],pt={name:"Profile",mounted(){this.$store.dispatch("resetActiveTrip"),this.$store.dispatch("getProfileByUserId"),this.$store.dispatch("getAllTrips")},components:{Navbar:D},methods:{async createProfile(){let t=await N.inputData("Profile",{});t&&this.$store.dispatch("createProfile",t)},async editProfile(t){let e=await N.inputData("Profile",t);e&&(console.log("sweetalert edit profile:",e),this.$store.dispatch("editProfile",{profileId:t._id,update:e}))}},computed:{profile(){return this.$store.state.profile},trips(){return this.$store.state.trips}}},ut=pt,mt=(a("c9d1"),Object(r["a"])(ut,ct,dt,!1,null,"3e28994a",null)),vt=mt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Navbar")],1)]),t._m(0),t._m(1)])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pt-2"},[a("div",{staticClass:"col-12 col-md-6 mx-auto"},[a("form",{staticClass:"account-form text-left mb-1"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{staticClass:"form-control",attrs:{type:"email",placeholder:"Password"}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("New Password")]),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password"}})]),a("div",{staticClass:"text-center"},[a("button",[t._v("Submit")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("img",{staticClass:"compass-img",attrs:{src:""}})])])}],wt={name:"Account",mounted(){this.$store.dispatch("getProfileByUserId")},data(){return{}},methods:{},computed:{profile(){return this.$store.state.profile}},components:{Navbar:D}},gt=wt,Ct=(a("d321"),Object(r["a"])(gt,ft,ht,!1,null,"4b0f8af8",null)),bt=Ct.exports;s["a"].use(p["a"]);const yt=[{path:"/",name:"home",component:w},{path:"/login",name:"login",component:I},{path:"/profile",name:"profile",component:vt},{path:"/account",name:"account",component:bt},{path:"/dashboard",name:"dashboard",component:A},{path:"/trip/:tripId",name:"trip",component:lt}],_t=new p["a"]({routes:yt});var It=_t,$t=a("2f62"),Tt=a("bc3a"),xt=a.n(Tt);let kt=location.host.includes("localhost")?"//localhost:3000/":"/",Et=xt.a.create({baseURL:kt+"account/",timeout:3e3,withCredentials:!0});class Mt{static async Login(t){try{let e=await Et.post("login",t);return e.data}catch(e){throw new Error(`[login failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Register(t){try{let e=await Et.post("register",t);return e.data}catch(e){throw new Error(`[registration failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Logout(){try{await Et.delete("logout");return!0}catch(t){throw new Error(`[logout failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async Authenticate(){try{let t=await Et.get("authenticate");return t.data}catch(t){console.warn(`[Authentication failed] : ${t.response?t.response.data.error:"No response from server"}`)}}}let Pt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Dt=xt.a.create({baseURL:Pt+"api/",timeout:3e3,withCredentials:!0});var Ot={actions:{async getAllTrips({commit:t,dispatch:e}){let a=await Dt.get("trips");t("setResource",{resource:"trips",data:a.data})},async createTrip({commit:t,dispatch:e},a){await Dt.post("trips",a),e("getAllTrips")},async getTripById({commit:t,dispatch:e},a){let s=await Dt.get("trips/"+a);t("setResource",{resource:"activeTrip",data:s.data})},async resetActiveTrip({commit:t}){t("resetActiveTrip")}}};let Lt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Nt=xt.a.create({baseURL:Lt+"api/",timeout:3e3,withCredentials:!0});var Ut={actions:{async getListsByTripId({commit:t,dispatch:e},a){let s=await Nt.get("trips/"+a+"/lists");t("setResource",{resource:"lists",data:s.data})},async addList({commit:t,dispatch:e},a){await Nt.post("lists",a);e("getListsByTripId",a.tripId)},async editList({commit:t,dispatch:e},{listId:a,update:s}){await Nt.put("lists/"+a,s);e("getListsByTripId",s.tripId)},async removeList({commit:t,dispatch:e},{listId:a,tripId:s}){await Nt.delete("lists/"+a);e("getListsByTripId",s)},async addListItem({commit:t,dispatch:e},{listId:a,listItem:s,tripId:i}){await Nt.post("lists/"+a+"/items",s);e("getListsByTripId",i)},async removeListItem({commit:t,dispatch:e},{listId:a,listItemId:s,tripId:i}){await Nt.delete("lists/"+a+"/items/"+s);e("getListsByTripId",i)}}},Bt=a("8055"),Rt=a.n(Bt);let At={};var jt={actions:{initalizeSocket({commit:t,dispatch:e}){At=Rt()("//localhost:3000"),At.on("CONNECTED",t=>{console.log("Connected to socket")}),At.on("addDestination",e=>{t("setResource",{resource:"activeTrip",data:e})}),At.on("removeDestination",e=>{t("setResource",{resource:"activeTrip",data:e})})}}};let St=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Ft=xt.a.create({baseURL:St+"api/",timeout:3e3,withCredentials:!0});var Gt={actions:{async getCarpoolsByTripId({commit:t,dispatch:e},a){let s=await Ft.get("trips/"+a+"/carpools");t("setResource",{resource:"carpools",data:s.data})},async addCarpool({commit:t,dispatch:e},{tripId:a,carpool:s}){await Ft.post("carpools",s);e("getCarpoolsByTripId",a)},async editCarpool({commit:t,dispatch:e},{tripId:a,carpoolId:s,update:i}){await Ft.put("carpools/"+s,i);e("getCarpoolsByTripId",a)},async removeCarpool({commit:t,dispatch:e},{tripId:a,carpoolId:s}){await Ft.delete("carpools/"+s);e("getCarpoolsByTripId",a)},async addOccupant({commit:t,dispatch:e},{tripId:a,carpoolId:s,occupant:i}){await Ft.post("carpools/"+s+"/occupants",i);e("getCarpoolsByTripId",a)},async removeOccupant({commit:t,dispatch:e},{tripId:a,carpoolId:s,occupantId:i}){await Ft.delete("carpools/"+s+"/occupants/"+i);e("getCarpoolsByTripId",a)}}};let Vt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",qt=xt.a.create({baseURL:Vt+"api/",timeout:3e3,withCredentials:!0});var zt={actions:{async getMealsByTripId({commit:t,dispatch:e},a){let s=await qt.get("trips/"+a+"/meals");t("setResource",{resource:"meals",data:s.data})},async addMeal({commit:t,dispatch:e},a){await qt.post("meals/",a);e("getMealsByTripId",a.tripId)},async editMeal({commit:t,dispatch:e},{mealId:a,update:s}){await qt.put("meals/"+a,s);e("getMealsByTripId",s.tripId)},async removeMeal({commit:t,dispatch:e},{mealId:a,tripId:s}){await qt.delete("meals/"+a);e("getMealsByTripId",s)},async addFoodItem({commit:t,dispatch:e},{mealId:a,foodItem:s,tripId:i}){await qt.post("meals/"+a+"/foodItems",s);e("getMealsByTripId",i)},async removeFoodItem({commit:t,dispatch:e},{mealId:a,foodItemId:s,tripId:i}){await qt.delete("meals/"+a+"/foodItems/"+s);e("getMealsByTripId",i)}}};let Yt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Jt=xt.a.create({baseURL:Yt+"api/",timeout:3e3,withCredentials:!0});var Kt={actions:{async addDestination({commit:t,dispatch:e},{tripId:a,destination:s}){let i=await Jt.post("trips/"+a+"/destinations",s);t("setResource",{resource:"activeTrip",data:i.data})},async removeDestination({commit:t,dispatch:e},{tripId:a,destinationId:s}){let i=await Jt.delete("trips/"+a+"/destinations/"+s);t("setResource",{resource:"activeTrip",data:i.data})},async editDestination({commit:t,dispatch:e},{tripId:a,destinationId:s,update:i}){let o=await Jt.put("trips/"+a+"/destinations/"+s,i);t("setResource",{resource:"activeTrip",data:o.data})}}};let Ht=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Xt=xt.a.create({baseURL:Ht+"api/",timeout:3e3,withCredentials:!0});var Qt={actions:{async createProfile({commit:t,dispatch:e},a){let s=await Xt.post("profiles",a);console.log("store create pofile res.data: ",s.data),t("setResource",{resource:"profile",data:s.data})},async getProfileByUserId({commit:t,dispatch:e}){let a=await Xt.get("profiles");t("setResource",{resource:"profile",data:a.data})},async editProfile({commit:t,dispatch:e},{profileId:a,update:s}){let i=await Xt.put("profiles/"+a,s);t("setResource",{resource:"profile",data:i.data})}}};s["a"].use($t["a"]);let Wt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Zt=xt.a.create({baseURL:Wt+"api/",timeout:3e3,withCredentials:!0}),te=xt.a.create({baseURL:"https://maps.googleapis.com/maps/api/geocode/",timeout:3e3});var ee=new $t["a"].Store({modules:{tripModule:Ot,listModule:Ut,socketModule:jt,carpoolModule:Gt,mealModule:zt,destinationModule:Kt,profileModule:Qt},state:{user:{},profile:{},trips:[],activeTrip:{},carpools:[],meals:[],lists:[],coords:{}},mutations:{setUser(t,e){t.user=e},setResource(t,e){t[e.resource]=e.data},resetActiveTrip(t){t.activeTrip={}},resetState(t){t.user={},t.trips=[]},setCoords(t,e){t.coords=e}},actions:{async register({commit:t,dispatch:e},a){try{let e=await Mt.Register(a);t("setUser",e),It.push({name:"dashboard"})}catch(s){console.warn(s.message)}},async login({commit:t,dispatch:e},a){try{let e=await Mt.Login(a);t("setUser",e);let s=await Zt.get("profiles");s.data._id?It.push({name:"dashboard"}):It.push({name:"profile"})}catch(s){console.warn(s.message)}},async logout({commit:t,dispatch:e}){try{await Mt.Logout();t("resetState"),It.push({name:"login"})}catch(a){console.warn(a.message)}},async getCoords({commit:t,dispatch:e},a){try{let e=await te.get(`json?address=${a}&key=${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GOOGLE_MAPS_API_KEY}`);console.log("maps api results: ",e.data.results[0].geometry.location),t("setCoords",e.data.results[0].geometry.location)}catch(s){console.warn(s.message)}}}}),ae=a("755e");async function se(){let t=await Mt.Authenticate();t?ee.commit("setUser",t):It.push({name:"home"}),new s["a"]({router:It,store:ee,render:t=>t(c)}).$mount("#app")}a("ed18").config(),s["a"].use(ae,{load:{key:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GOOGLE_MAPS_API_KEY,libraries:"places"}}),se(),ee.dispatch("initalizeSocket")},"6dac":function(t,e,a){},7865:function(t,e,a){},"85ec":function(t,e,a){},"881e":function(t,e,a){},c9d1:function(t,e,a){"use strict";var s=a("4374"),i=a.n(s);i.a},d321:function(t,e,a){"use strict";var s=a("09ba"),i=a.n(s);i.a},ee2e:function(t,e,a){"use strict";var s=a("3b0e"),i=a.n(s);i.a},ee4b:function(t,e,a){},f08d:function(t,e,a){"use strict";var s=a("093b"),i=a.n(s);i.a},feec:function(t,e,a){}});
//# sourceMappingURL=app.87d1a345.js.map